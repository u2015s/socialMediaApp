(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{182:function(e,t,n){},194:function(e,t,n){"use strict";n.r(t);var r,a=n(1),c=n.n(a),s=n(44),i=n.n(s),o=n(23),l=n.n(o),d=n(110),u=n(257),j=(n(182),n(11)),b=n(246),x=n(39),p=n(3),h=n(25),f=n(252),O=n(259),g=n(265),m=n(17),v=n(19),w=n(18),y=n(12),S=n.n(y),k=n(28),I=Object(k.b)("auth/loginUser",function(){var e=Object(w.a)(S.a.mark((function e(t){var n,r;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.post("/auth/login",t);case 2:return n=e.sent,r=n.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),C=Object(k.b)("auth/registerUser",function(){var e=Object(w.a)(S.a.mark((function e(t){var n,r;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.post("/auth/register",t);case 2:return n=e.sent,r=n.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),z=Object(k.b)("auth/getProfile",function(){var e=Object(w.a)(S.a.mark((function e(t){var n,r;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.get("/api/profile/"+t);case 2:return n=e.sent,r=n.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),L=Object(k.b)("auth/getUsers",Object(w.a)(S.a.mark((function e(){var t,n;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.get("/auth/users/");case 2:return t=e.sent,n=t.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))),R=Object(k.c)({name:"auth",initialState:{status:"idle",isLoggedIn:!1,user:{},profile:{},userStatus:"idle",users:[]},reducers:{setAuth:function(e,t){e.isLoggedIn=t.payload.isLoggedIn},logout:function(e,t){localStorage.clear(),e.isLoggedIn=!1,l.a.defaults.headers.common.authorization=null},setUser:function(e,t){e.user=t.payload}},extraReducers:(r={},Object(p.a)(r,I.pending,(function(e,t){e.status="loading"})),Object(p.a)(r,I.fulfilled,(function(e,t){var n=t.payload.response,r=n.token,a=n.name,c=n.email,s=n._id;localStorage.setItem("login",JSON.stringify({token:r,email:c,_id:s,name:a,isLoggedIn:!0})),e.user.name=a,e.user.email=c,e.user._id=s,e.status="success",e.isLoggedIn=!0})),Object(p.a)(r,I.rejected,(function(e,t){e.status="failed",e.isLoggedIn=!1})),Object(p.a)(r,C.pending,(function(e,t){e.status="loading"})),Object(p.a)(r,C.fulfilled,(function(e,t){e.status="success";var n=t.payload.response,r=n.token,a=n.name,c=n.email;localStorage.setItem("login",JSON.stringify({token:r,name:a,email:c,isLoggedIn:!0})),e.user.name=a,e.user.email=c,e.isLoggedIn=!0})),Object(p.a)(r,C.rejected,(function(e,t){e.status="failed",e.isLoggedIn=!1})),Object(p.a)(r,z.pending,(function(e,t){e.status="loading"})),Object(p.a)(r,z.fulfilled,(function(e,t){e.status="success",e.profile=t.payload.profile})),Object(p.a)(r,z.rejected,(function(e,t){e.status="failed"})),Object(p.a)(r,L.pending,(function(e,t){e.userStatus="loading"})),Object(p.a)(r,L.fulfilled,(function(e,t){e.userStatus="success",e.users=t.payload.response.users})),Object(p.a)(r,L.rejected,(function(e,t){e.userStatus="failed"})),r)}),_=R.reducer,D=R.actions,A=D.setAuth,F=D.logout,P=n(0);function T(){var e=Object(a.useState)({}),t=Object(j.a)(e,2),n=t[0],r=t[1],c=Object(m.b)(),s=Object(v.g)(),i=Object(m.c)((function(e){return e.auth})),o=i.status,l=i.isLoggedIn;return Object(a.useEffect)((function(){l&&s.push("/home")}),[l,s]),Object(P.jsxs)(P.Fragment,{children:[Object(P.jsxs)("form",{onSubmit:function(e){e.preventDefault(),c(I(n))},children:[Object(P.jsx)(f.a,{onChange:function(e){return r((function(t){return Object(h.a)(Object(h.a)({},t),{},Object(p.a)({},e.target.name,e.target.value))}))},sx:{width:"100%",margin:"1rem 0",bgcolor:"#fff"},variant:"outlined",label:"Enter Email",type:"email",required:!0,name:"email"}),Object(P.jsx)(f.a,{sx:{width:"100%",margin:"1rem 0",bgcolor:"#fff"},variant:"outlined",label:"Enter Password",type:"password",required:!0,onChange:function(e){return r((function(t){return Object(h.a)(Object(h.a)({},t),{},Object(p.a)({},e.target.name,e.target.value))}))},name:"password"}),Object(P.jsx)(O.a,{sx:{width:"100%",margin:"1.5rem 0",padding:"12px 0",borderRadius:"28px",backgroundColor:"#00c8ff"},variant:"contained",type:"submit",children:"loading"===o?Object(P.jsx)(g.a,{size:24,sx:{color:"#FFF"}}):"Login"})]}),Object(P.jsx)(O.a,{onClick:function(){r({email:"user@mail.com",password:"user1234"}),c(I({email:"user@mail.com",password:"user1234"}))},sx:{width:"100%",margin:".5rem 0 1rem 0.5rem",padding:"12px 0",borderRadius:"28px"},variant:"outlined",color:"primary",children:"loading"===o?"Logging in...":"Login as guest"})]})}function E(){var e=Object(a.useState)({}),t=Object(j.a)(e,2),n=t[0],r=t[1],c=Object(m.b)(),s=Object(v.g)(),i=Object(m.c)((function(e){return e.auth})),o=i.status,l=i.isLoggedIn;return Object(a.useEffect)((function(){l&&s.push("/home")}),[l,s]),Object(P.jsxs)("form",{onSubmit:function(e){e.preventDefault(),c(C(n))},children:[Object(P.jsx)(f.a,{onChange:function(e){return r((function(t){return Object(h.a)(Object(h.a)({},t),{},Object(p.a)({},e.target.name,e.target.value))}))},name:"name",sx:{width:"100%",margin:"1rem 0",bgcolor:"#fff"},variant:"outlined",label:"Enter full name",type:"text",required:!0}),Object(P.jsx)(f.a,{name:"handle",onChange:function(e){return r((function(t){return Object(h.a)(Object(h.a)({},t),{},Object(p.a)({},e.target.name,e.target.value))}))},sx:{width:"100%",margin:"1rem 0",bgcolor:"#fff"},variant:"outlined",label:"Choose an handle",type:"text",required:!0}),Object(P.jsx)(f.a,{name:"email",onChange:function(e){return r((function(t){return Object(h.a)(Object(h.a)({},t),{},Object(p.a)({},e.target.name,e.target.value))}))},sx:{width:"100%",margin:"1rem 0",bgcolor:"#fff"},variant:"outlined",label:"Enter Email",type:"email",required:!0}),Object(P.jsx)(f.a,{name:"password",onChange:function(e){return r((function(t){return Object(h.a)(Object(h.a)({},t),{},Object(p.a)({},e.target.name,e.target.value))}))},sx:{width:"100%",margin:"1rem 0",bgcolor:"#fff"},variant:"outlined",label:"Enter Password",type:"password",required:!0}),Object(P.jsx)(O.a,{type:"submit",sx:{width:"100%",margin:"1.5rem 0",padding:"12px 0",borderRadius:"28px",backgroundColor:"#00c8ff"},variant:"contained",children:"loading"===o?Object(P.jsx)(g.a,{size:24,sx:{color:"#FFF"}}):"Register"})]})}var W=n(24),B=n(73);function M(){var e=Object(a.useState)(!0),t=Object(j.a)(e,2),n=t[0],r=(t[1],Object(x.a)());return Object(P.jsx)(b.a,{display:"flex",justifyContent:"center",alignItems:"center",sx:{width:"100vw",height:"100vh",backgroundColor:"#00c8ff"},children:Object(P.jsxs)(b.a,{borderRadius:r.shape.borderRadius,sx:{width:r.breakpoints.values.sm,bgcolor:"#FFFFFF",padding:" 3rem 2rem"},children:[Object(P.jsx)(b.a,{textAlign:"center",marginBottom:"1rem",children:Object(P.jsx)("img",{src:"/logo.png",alt:"Logo"})}),n?Object(P.jsx)(B.a,{variant:"h5",children:"Login to your account"}):Object(P.jsx)(B.a,{variant:"h5",children:"Create a new account"}),n?Object(P.jsx)(T,{}):Object(P.jsx)(E,{}),n?Object(P.jsxs)(b.a,{textAlign:"center",margin:".5rem 0",children:["Don't have an account?"," ",Object(P.jsx)(W.b,{to:"/register",children:"Create one"})]}):Object(P.jsxs)(b.a,{textAlign:"center",margin:".5rem 0",children:["Already registered?"," ",Object(P.jsx)(W.b,{to:"/login",children:"Sign in"})]})]})})}function U(){var e=Object(a.useState)(!1),t=Object(j.a)(e,2),n=(t[0],t[1],Object(x.a)());return Object(P.jsx)(b.a,{display:"flex",justifyContent:"center",alignItems:"center",sx:{width:"100vw",height:"100vh",backgroundColor:"#00c8ff"},children:Object(P.jsxs)(b.a,{borderRadius:n.shape.borderRadius,sx:{width:n.breakpoints.values.sm,bgcolor:"#FFFFFF",padding:" 3rem 2rem"},children:[Object(P.jsx)(b.a,{textAlign:"center",marginBottom:"1rem",children:Object(P.jsx)("img",{src:"/logo.png",alt:"Logo"})}),Object(P.jsx)(B.a,{variant:"h5",children:"Create a new account"}),Object(P.jsx)(E,{}),Object(P.jsxs)(b.a,{textAlign:"center",margin:".5rem 0",children:["Already registered?"," ",Object(P.jsx)(W.b,{to:"/login",children:"Sign in"})]})]})})}var J,N=n(264),G=n(256),q=n(249),H=n(250),Y=n(136),X=n.n(Y),$=n(255),K=n(267),Q=n(144),V=n(260),Z=n(261),ee=n(262),te=n(84),ne=n.n(te),re=n(137),ae=n.n(re),ce=n(47),se=n.n(ce),ie=n(138),oe=n.n(ie),le=n(266),de=n(269),ue=n(268),je=n(247),be=n(134),xe=n.n(be),pe=n(56),he=n(248);function fe(e){var t=e.children,n=e.open,r=e.handleClose,a=e.handleSave,c=e.saveText,s=e.len,i=Object(pe.a)();return Object(P.jsxs)(le.a,{open:n,onClose:r,fullWidth:!0,maxWidth:"sm",children:[Object(P.jsx)(je.a,{children:Object(P.jsx)(he.a,{textAlign:"right",borderBottom:"1px solid #ccc",children:Object(P.jsx)(K.a,{onClick:r,children:Object(P.jsx)(xe.a,{})})})}),Object(P.jsx)(ue.a,{children:t}),Object(P.jsx)(de.a,{children:Object(P.jsx)(O.a,{disabled:0===s,variant:"contained",color:"primary",size:"small",sx:{borderRadius:i.shape.borderRadius,fontSize:"12px"},onClick:function(){a(),r()},children:c})})]})}var Oe=Object(k.b)("post/getPosts",Object(w.a)(S.a.mark((function e(){var t,n;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.get("/api/posts");case 2:return t=e.sent,n=t.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))),ge=Object(k.b)("post/getPostDetails",function(){var e=Object(w.a)(S.a.mark((function e(t){var n,r;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.get("/api/posts/"+t);case 2:return n=e.sent,r=n.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),me=Object(k.b)("post/getComments",function(){var e=Object(w.a)(S.a.mark((function e(t){var n,r;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.get("/api/comments/"+t);case 2:return n=e.sent,r=n.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),ve=Object(k.c)({name:"post",initialState:{status:"idle",posts:[],postDetails:{},commentStatus:"idle",comments:[]},reducers:{updateLike:function(e,t){var n=e.posts.findIndex((function(e){return e._id===t.payload.id}));e.posts[n].isLiked=!e.posts[n].isLiked}},extraReducers:(J={},Object(p.a)(J,Oe.pending,(function(e,t){e.status="loading"})),Object(p.a)(J,Oe.fulfilled,(function(e,t){e.status="success",e.posts=t.payload.response.posts})),Object(p.a)(J,Oe.rejected,(function(e,t){e.status="failed"})),Object(p.a)(J,ge.pending,(function(e,t){e.status="loading"})),Object(p.a)(J,ge.fulfilled,(function(e,t){e.status="success",e.postDetails=t.payload.response.post})),Object(p.a)(J,ge.rejected,(function(e,t){e.status="failed"})),Object(p.a)(J,me.pending,(function(e,t){e.commentStatus="loading"})),Object(p.a)(J,me.fulfilled,(function(e,t){e.commentStatus="success",e.comments=t.payload.response.comments})),Object(p.a)(J,me.rejected,(function(e,t){e.commentStatus="failed"})),J)}),we=ve.reducer,ye=ve.actions.updateLike,Se=function(){var e=Object(w.a)(S.a.mark((function e(t){var n,r;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l.a.post("/api/posts",t);case 3:return n=e.sent,r=n.data,e.abrupt("return",r);case 8:e.prev=8,e.t0=e.catch(0),alert("Something went wrong.");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),ke=function(){var e=Object(w.a)(S.a.mark((function e(t){var n,r;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l.a.post("/api/comments/"+t.id,t);case 3:return n=e.sent,r=n.data,e.abrupt("return",r);case 8:e.prev=8,e.t0=e.catch(0),alert("Something went wrong.");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),Ie=function(){var e=Object(w.a)(S.a.mark((function e(t){var n,r;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l.a.post("/api/posts/likes",t);case 3:return n=e.sent,r=n.data,e.abrupt("return",r);case 8:e.prev=8,e.t0=e.catch(0),alert("Something went wrong.");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),Ce=function(){var e=Object(w.a)(S.a.mark((function e(t){var n,r;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l.a.delete("/api/posts/".concat(t.id));case 3:return n=e.sent,r=n.data,e.abrupt("return",r);case 8:e.prev=8,e.t0=e.catch(0),alert("Something went wrong.");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),ze=function(){var e=Object(w.a)(S.a.mark((function e(t){var n,r;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l.a.post("/api/followers",t);case 3:return n=e.sent,r=n.data,e.abrupt("return",r);case 8:e.prev=8,e.t0=e.catch(0),alert("Something went wrong.");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),Le=function(){var e=Object(w.a)(S.a.mark((function e(t){var n,r;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l.a.post("/api/followings",t);case 3:return n=e.sent,r=n.data,e.abrupt("return",r);case 8:e.prev=8,e.t0=e.catch(0),alert("Something went wrong.");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),Re=function(){var e=Object(w.a)(S.a.mark((function e(t){var n,r;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l.a.post("/api/followings/delete",t);case 3:return n=e.sent,r=n.data,e.abrupt("return",r);case 8:e.prev=8,e.t0=e.catch(0),alert("Something went wrong.");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}();function _e(){var e=Object(x.a)(),t=Object(m.b)(),n=JSON.parse(localStorage.getItem("login"))._id,r=a.useState(null),c=Object(j.a)(r,2),s=c[0],i=c[1],o=Boolean(s),l=function(){i(null)},d=a.useState(!1),u=Object(j.a)(d,2),p=u[0],h=u[1],f=function(){h(!0)},g=a.useState(""),v=Object(j.a)(g,2),y=v[0],k=v[1],I=function(){var e=Object(w.a)(S.a.mark((function e(){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Se({text:y});case 2:e.sent&&(t(Oe()),k(""));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(P.jsxs)(P.Fragment,{children:[Object(P.jsxs)(b.a,{sx:{height:"100vh",maxWidth:"100%"},children:[Object(P.jsx)(b.a,{textAlign:"center",sx:{marginTop:"3%"},children:Object(P.jsx)(W.c,{to:"/home",style:{textDecoration:"none",color:"inherit",backgroundColor:"inherit"},children:Object(P.jsx)("img",{src:"/logo512.png",alt:"logo",width:"80px"})})}),Object(P.jsxs)(N.a,{children:[Object(P.jsx)(W.c,{to:"/home",style:{textDecoration:"none",color:"inherit",backgroundColor:"inherit"},children:Object(P.jsxs)(G.a,{button:!0,sx:{borderRadius:"28px",margin:".5rem 0"},children:[Object(P.jsx)(q.a,{children:Object(P.jsx)(X.a,{fontSize:"medium",color:"action"})}),Object(P.jsx)($.a,{lgDown:!0,children:Object(P.jsx)(H.a,{primaryTypographyProps:{fontSize:"18px",color:e.palette.action.active},primary:"Home"})})]})}),Object(P.jsxs)(G.a,{button:!0,sx:{borderRadius:"28px",margin:".5rem 0"},children:[Object(P.jsx)(q.a,{children:Object(P.jsx)(ne.a,{fontSize:"medium",color:"action"})}),Object(P.jsx)($.a,{lgDown:!0,children:Object(P.jsx)(H.a,{primaryTypographyProps:{fontSize:"18px",color:e.palette.action.active},primary:"Messages"})})]}),Object(P.jsx)(W.c,{to:"/profile/".concat(n),style:{textDecoration:"none",color:"inherit",backgroundColor:"inherit"},children:Object(P.jsxs)(G.a,{button:!0,sx:{borderRadius:"28px",margin:".5rem 0"},children:[Object(P.jsx)(q.a,{children:Object(P.jsx)(ae.a,{fontSize:"medium",color:"action"})}),Object(P.jsx)($.a,{lgDown:!0,children:Object(P.jsx)(H.a,{primaryTypographyProps:{fontSize:"18px",color:e.palette.action.active},primary:"Profile"})})]})}),Object(P.jsxs)(G.a,{id:"basic-button","aria-controls":"basic-menu","aria-haspopup":"true","aria-expanded":o?"true":void 0,onClick:function(e){i(e.currentTarget)},button:!0,sx:{borderRadius:"28px",margin:".5rem 0"},children:[Object(P.jsx)(q.a,{children:Object(P.jsx)(se.a,{fontSize:"medium",color:"action"})}),Object(P.jsx)($.a,{lgDown:!0,children:Object(P.jsx)(H.a,{primaryTypographyProps:{fontSize:"18px",color:e.palette.action.active},primary:"More"})})]})]}),Object(P.jsx)($.a,{lgDown:!0,children:Object(P.jsx)(O.a,{onClick:f,variant:"contained",color:"primary",fullWidth:!0,style:{borderRadius:"28px",padding:"10px",textTransform:"capitalize"},children:"Post"})}),Object(P.jsx)($.a,{lgUp:!0,children:Object(P.jsx)(K.a,{onClick:f,variant:"contained",color:"primary",style:{borderRadius:"28px",padding:"0 15px",textTransform:"capitalize",textAlign:"center"},children:Object(P.jsx)(oe.a,{})})}),Object(P.jsx)(Q.a,{id:"basic-menu",anchorEl:s,open:o,onClose:l,MenuListProps:{"aria-labelledby":"basic-button"},children:Object(P.jsx)(V.a,{onClick:function(){t(F()),l()},children:"Logout"})})]}),p&&Object(P.jsx)(fe,{open:p,handleClose:function(){h(!1)},saveText:"Post",len:y.length,handleSave:I,children:Object(P.jsx)(b.a,{children:Object(P.jsxs)(Z.a,{container:!0,children:[Object(P.jsx)(Z.a,{item:!0,children:Object(P.jsx)("img",{src:"/logo.png",alt:"logo",width:"60px"})}),Object(P.jsx)(Z.a,{item:!0,flexGrow:"1",children:Object(P.jsx)(b.a,{padding:".5rem 0",children:Object(P.jsx)(ee.a,{value:y,onChange:function(e){return k(e.target.value)},multiline:!0,rows:"2",disableUnderline:!0,type:"text",placeholder:"What's happening?",sx:{width:"100%"}})})})]})})})]})}var De,Ae=n(251),Fe=Object(k.b)("follow/getFollowings",function(){var e=Object(w.a)(S.a.mark((function e(t){var n,r;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.get("/api/followings/"+t);case 2:return n=e.sent,r=n.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Pe=Object(k.b)("follow/getFollowers",function(){var e=Object(w.a)(S.a.mark((function e(t){var n,r;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.get("/api/followers/"+t);case 2:return n=e.sent,r=n.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Te=Object(k.c)({name:"follow",initialState:{followingStatus:"idle",followings:[],followerStatus:"idle",followers:[]},reducers:{},extraReducers:(De={},Object(p.a)(De,Fe.pending,(function(e,t){e.followingStatus="loading"})),Object(p.a)(De,Fe.fulfilled,(function(e,t){e.followingStatus="success",e.followings=t.payload.response.followings})),Object(p.a)(De,Fe.rejected,(function(e,t){e.followingStatus="failed"})),Object(p.a)(De,Pe.pending,(function(e,t){e.followerStatus="loading"})),Object(p.a)(De,Pe.fulfilled,(function(e,t){e.followerStatus="success",e.followers=t.payload.response.followers})),Object(p.a)(De,Pe.rejected,(function(e,t){e.followerStatus="failed"})),De)}).reducer;function Ee(e){var t=e.user,n=Object(x.a)(),r=JSON.parse(localStorage.getItem("login"))._id,c=Object(a.useState)(!1),s=Object(j.a)(c,2),i=s[0],o=s[1],l=Object(m.b)(),d=Object(m.c)((function(e){return e.follow})),u=d.followings,b=(d.followers,d.followingStatus);Object(a.useEffect)((function(){if("success"===b)for(var e=0;e<u[0].followingId.length;e++){u[0].followingId[e]===t._id&&o(!0)}}),[b]);var p=function(){var e=Object(w.a)(S.a.mark((function e(){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("39"),e.next=3,Le({userId:r,followingId:t._id});case 3:"following added successfully."===e.sent.message&&o(!0);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),h=function(){var e=Object(w.a)(S.a.mark((function e(){var n;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Re({userId:r,deleteId:t._id});case 2:n=e.sent,console.log(n.message),"following removed successfully."===n.message&&(l(Fe(r)),o(!1));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(P.jsx)(he.a,{margin:"1rem 0",children:Object(P.jsxs)(Z.a,{container:!0,alignItems:"center",justifyContent:"space-between",children:[Object(P.jsx)(Z.a,{item:!0,children:Object(P.jsxs)(Z.a,{container:!0,children:[Object(P.jsx)(Z.a,{item:!0,sx:{paddingRight:"12px"},children:Object(P.jsx)("img",{src:"/user.png",width:"50px",alt:"logo"})}),Object(P.jsx)(Z.a,{item:!0,children:Object(P.jsx)(Z.a,{container:!0,alignItems:"center",children:Object(P.jsxs)(Z.a,{item:!0,children:[Object(P.jsx)(B.a,{sx:{fontSize:"16px",fontWeight:"500"},children:t.name}),Object(P.jsx)(he.a,{display:"flex",alignItems:"center",children:Object(P.jsx)(B.a,{sx:{fontSize:"14px",mr:"6px",color:"#555"},children:"@"+t.handle})})]})})})]})}),Object(P.jsx)(Z.a,{item:!0,children:i?Object(P.jsx)(O.a,{size:"small",sx:{borderRadius:n.shape.borderRadius,textTransform:"capitalize",ml:"12px",background:"black","&:hover":{background:"#333"}},variant:"contained",onClick:function(e){h()},children:"Unfollow"}):Object(P.jsx)(O.a,{size:"small",sx:{borderRadius:n.shape.borderRadius,textTransform:"capitalize",ml:"12px",background:"black","&:hover":{background:"#333"}},variant:"contained",onClick:function(e){p()},children:"Follow"})})]})})}function We(){var e=c.a.useState(""),t=Object(j.a)(e,2),n=t[0],r=t[1],s=JSON.parse(localStorage.getItem("login"))._id,i=Object(m.b)(),o=Object(m.c)((function(e){return e.auth})),l=o.users,d=o.userStatus;function u(){return l.filter((function(e){return e.name.toLowerCase().includes(n.toLowerCase())||e.handle.toLowerCase().includes(n.toLowerCase())}))}return Object(a.useEffect)((function(){i(Fe(s))}),[]),Object(P.jsx)(he.a,{sx:{height:"100%"},children:Object(P.jsxs)(he.a,{paddingTop:"10px",children:[Object(P.jsxs)(he.a,{width:"100%",borderRadius:"28px",border:"1px solid #eee",position:"relative",sx:{background:"#eee"},children:[Object(P.jsx)(ee.a,{value:n,onChange:function(e){return r(e.target.value)},type:"text",inputProps:{style:{padding:"10px"}},disableUnderline:!0,fullWidth:!0,placeholder:"Search",startAdornment:Object(P.jsx)(Ae.a,{sx:{paddingLeft:"20px",color:"#777"}})}),0!==n.length&&Object(P.jsxs)(he.a,{width:"100%",sx:{backgroundColor:"white",border:"1px solid #eee",borderRadius:"28px",padding:"1rem 0",zIndex:"999",maxHeight:"50vh",overflowY:"scroll"},position:"absolute",children:[0!==n.length&&0===u().length&&Object(P.jsx)(B.a,{sx:{padding:"0 1rem"},children:"No users found!"}),u().map((function(e){return Object(P.jsx)(he.a,{children:Object(P.jsx)(W.b,{onClick:function(){return r("")},style:{textDecoration:"none"},to:"/profile/".concat(e._id),children:Object(P.jsxs)(Z.a,{sx:{overflow:"hidden",padding:".2rem 1rem","&:hover":{backgroundColor:"#eee"}},container:!0,alignItems:"center",children:[Object(P.jsx)(Z.a,{item:!0,sx:{paddingRight:"12px"},children:Object(P.jsx)("img",{src:"/logo.png",width:"50px",alt:"logo"})}),Object(P.jsx)(Z.a,{item:!0,children:Object(P.jsx)(Z.a,{container:!0,alignItems:"center",children:Object(P.jsxs)(Z.a,{item:!0,children:[Object(P.jsx)(B.a,{sx:{fontSize:"16px",fontWeight:"500",color:"#000"},children:e.name}),Object(P.jsx)(he.a,{display:"flex",alignItems:"center",children:Object(P.jsx)(B.a,{sx:{fontSize:"14px",mr:"6px",color:"#555"},children:e.handle})})]})})})]})})},e._id)}))]})]}),Object(P.jsxs)(he.a,{sx:{background:"#eee",borderRadius:"28px",padding:"10px 20px",margin:"1rem 0"},children:[Object(P.jsx)(B.a,{variant:"h6",sx:{fontWeight:"bold"},children:"Who to follow"}),"success"===d&&l.filter((function(e){return e._id!==s})).slice(0,7).map((function(e){return Object(P.jsx)(Ee,{user:e},e._id)}))]})]})})}function Be(e){var t=e.children,n=Object(pe.a)(),r=Object(m.b)();return Object(a.useEffect)((function(){r(L())}),[r]),Object(P.jsx)(b.a,{sx:{maxWidth:n.breakpoints.values.lg,margin:"0 auto"},children:Object(P.jsxs)(Z.a,{container:!0,children:[Object(P.jsx)(Z.a,{item:!0,xs:1,lg:2,children:Object(P.jsx)(_e,{})}),Object(P.jsx)(Z.a,{item:!0,xs:11,lg:10,children:Object(P.jsxs)(Z.a,{container:!0,children:[Object(P.jsx)(Z.a,{item:!0,xs:12,lg:8,children:Object(P.jsx)(b.a,{sx:{height:"100vh",margin:"0 1rem",borderLeft:"1px solid #ccc",borderRight:"1px solid #ccc"},children:t})}),Object(P.jsx)($.a,{lgDown:!0,children:Object(P.jsx)(Z.a,{item:!0,lg:4,sx:{height:"100vh"},children:Object(P.jsx)(We,{})})})]})})]})})}var Me=n(270),Ue=n(90),Je=n.n(Ue),Ne=n(139),Ge=n.n(Ne),qe=n(140),He=n.n(qe),Ye=n(141),Xe=n.n(Ye),$e=n(143),Ke=n(85),Qe=n.n(Ke),Ve=n(86),Ze=n.n(Ve),et=n(88),tt=n.n(et),nt=n(87),rt=n.n(nt),at=n(89),ct=n.n(at);function st(e){var t=e.post,n=e.profile,r=Object(m.b)(),s=Object(a.useState)(""),i=Object(j.a)(s,2),o=i[0],l=i[1],d=c.a.useState(null),u=Object(j.a)(d,2),b=u[0],x=u[1],p=Boolean(b),h=JSON.parse(localStorage.getItem("login"))._id,f=function(){var e=Object(w.a)(S.a.mark((function e(n){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),r(ye({id:t._id})),e.next=4,Ie({id:t._id});case 4:"Post updated successfully."!==e.sent.message&&r(ye({id:t._id}));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),O=function(){var e=Object(w.a)(S.a.mark((function e(){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ke({id:t._id,text:o});case 2:e.sent&&l("");case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),g=function(){var e=Object(w.a)(S.a.mark((function e(){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ce({id:t._id});case 2:e.sent&&r(n?z(t.author._id):Oe());case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),v=c.a.useState(!1),y=Object(j.a)(v,2),k=y[0],I=y[1];return Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)(W.b,{to:"/posts/".concat(t._id),style:{textDecoration:"none",color:"inherit"},children:Object(P.jsx)(he.a,{padding:"1rem",sx:{"&:hover":{backgroundColor:"#eee"}},children:Object(P.jsxs)(Z.a,{container:!0,flexWrap:"nowrap",children:[Object(P.jsx)(Z.a,{item:!0,sx:{paddingRight:"1rem"},children:Object(P.jsx)(W.b,{to:"/profile/".concat(t.author._id),children:Object(P.jsx)("img",{src:"/user.png",alt:"lgoog",width:"50px"})})}),Object(P.jsx)(Z.a,{item:!0,flexGrow:"1",children:Object(P.jsxs)(he.a,{children:[Object(P.jsxs)(Z.a,{container:!0,justifyContent:"space-between",alignItems:"center",flexWrap:"nowrap",children:[Object(P.jsxs)(Z.a,{item:!0,children:[Object(P.jsxs)(he.a,{display:"flex",children:[Object(P.jsx)(B.a,{sx:{fontSize:"16px",fontWeight:500,mr:"6px"},children:t.author.name}),Object(P.jsxs)(B.a,{sx:{fontSize:"15px",mr:"6px",color:"#555"},children:["@",t.author.handle]}),Object(P.jsx)(B.a,{sx:{fontSize:"15px",mr:"6px",color:"#555"},children:"."}),Object(P.jsx)(B.a,{sx:{fontSize:"15px",mr:"6px",color:"#555"},children:Object($e.a)(new Date(t.createdAt))})]}),Object(P.jsx)(he.a,{children:Object(P.jsx)(B.a,{sx:{fontSize:"15px",color:"#555"},children:t.text})})]}),Object(P.jsxs)(Z.a,{item:!0,children:[t.author._id===h&&Object(P.jsx)(K.a,{"aria-expanded":p?"true":void 0,onClick:function(e){e.preventDefault(),x(e.currentTarget)},children:Object(P.jsx)(se.a,{})}),Object(P.jsx)(Q.a,{id:"basic-menu",anchorEl:b,open:p,onClose:function(){x(null)},MenuListProps:{"aria-labelledby":"basic-button"},children:Object(P.jsx)(V.a,{onClick:function(e){e.preventDefault(),g()},children:"Delete Post"})})]})]}),Object(P.jsxs)(he.a,{display:"flex",justifyContent:"space-between",marginRight:"5rem",marginTop:".8rem",children:[Object(P.jsx)(K.a,{onClick:function(e){e.preventDefault(),I(!0)},size:"small",children:Object(P.jsx)(Qe.a,{fontSize:"small"})}),Object(P.jsx)(K.a,{size:"small",children:Object(P.jsx)(Ze.a,{fontSize:"small"})}),Object(P.jsx)(K.a,{onClick:f,size:"small",children:t.isLiked?Object(P.jsx)(rt.a,{fontSize:"small"}):Object(P.jsx)(tt.a,{fontSize:"small"})}),Object(P.jsx)(K.a,{size:"small",children:Object(P.jsx)(ct.a,{fontSize:"small"})})]})]})})]})})}),k&&Object(P.jsx)(fe,{open:k,handleClose:function(){I(!1)},saveText:"Comment",len:o.length,handleSave:O,children:Object(P.jsx)(he.a,{children:Object(P.jsxs)(Z.a,{container:!0,children:[Object(P.jsx)(Z.a,{item:!0,children:Object(P.jsx)("img",{src:"/logo.png",alt:"logo",width:"60px"})}),Object(P.jsx)(Z.a,{item:!0,flexGrow:"1",children:Object(P.jsx)(he.a,{padding:".5rem 0",children:Object(P.jsx)(ee.a,{onChange:function(e){return l(e.target.value)},value:o,multiline:!0,rows:"2",disableUnderline:!0,type:"text",placeholder:"Post your comment",sx:{width:"100%"}})})})]})})})]})}var it=n(72);function ot(){var e=Object(x.a)(),t=Object(v.h)().id,n=Object(m.b)(),r=Object(m.c)((function(e){return e.auth})),c=r.profile,s=r.status,i=Object(m.c)((function(e){return e.follow})),o=i.followingStatus,l=i.followerStatus,d=i.followers,u=i.followings,j=JSON.parse(localStorage.getItem("login"))._id;Object(a.useEffect)((function(){n(z(t))}),[n,t]),Object(a.useEffect)((function(){c.userId&&(n(Pe(c.userId._id)),n(Fe(c.userId._id)))}),[n,c.userId]);var b=function(){var e=Object(w.a)(S.a.mark((function e(){var r,a;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ze({userId:c.userId._id,followerId:j});case 2:return r=e.sent,e.next=5,Le({followingId:c.userId._id,userId:j});case 5:a=e.sent,r&&n(Pe(t)),a&&n(Fe(t));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(P.jsxs)(he.a,{children:[Object(P.jsx)(he.a,{borderBottom:"1px solid #ccc",padding:"8px 20px",children:Object(P.jsxs)(Z.a,{container:!0,alignItems:"center",children:[Object(P.jsx)(Z.a,{item:!0,sx:{mr:"10px"},children:Object(P.jsx)(W.b,{to:"/",children:Object(P.jsx)(K.a,{children:Object(P.jsx)(Je.a,{})})})}),"success"===s&&Object(P.jsxs)(Z.a,{item:!0,children:[Object(P.jsx)(B.a,{variant:"h6",children:c.userId&&c.userId&&c.userId.name}),Object(P.jsxs)(B.a,{sx:{fontSize:"12px",color:"#555"},children:[c.posts&&c.posts.length," posts"]})," "]})]})}),Object(P.jsx)(he.a,{textAlign:"center",children:"loading"===s&&Object(P.jsx)(g.a,{size:20,color:"primary"})}),"success"===s&&Object(P.jsxs)(he.a,{height:"90vh",sx:{overflowY:"scroll"},children:[Object(P.jsxs)(he.a,{position:"relative",children:[Object(P.jsx)("img",{width:"100%",src:c.backgroundImageUrl,alt:"background"}),Object(P.jsx)(he.a,{sx:{position:"absolute",top:120,left:15,background:"#eee",borderRadius:"50%"},children:Object(P.jsx)("img",{width:"150px",src:c.profileImageUrl,alt:"profile"})})]}),Object(P.jsxs)(he.a,{textAlign:"right",padding:"10px 20px",children:[Object(P.jsx)(K.a,{children:Object(P.jsx)(se.a,{})}),Object(P.jsx)(K.a,{children:Object(P.jsx)(ne.a,{})}),!function(){if(c.userId&&0!==u.length)return u[0].followingId.includes(j)||j===c.userId._id}()&&Object(P.jsx)(O.a,{onClick:b,size:"small",sx:{borderRadius:e.shape.borderRadius,textTransform:"capitalize",padding:"6px 20px",background:"black","&:hover":{background:"#333"}},variant:"contained",children:"Follow"})]}),Object(P.jsxs)(he.a,{padding:"10px 20px",children:[Object(P.jsx)(B.a,{variant:"h6",sx:{fontWeight:"500"},children:c.userId&&c.userId.name}),Object(P.jsxs)(B.a,{sx:{fontSize:"14px",color:"#555"},children:["@",c.userId&&c.userId.handle]}),Object(P.jsx)(B.a,{fontSize:"16px",color:"#333",padding:"10px 0",children:c.bio}),Object(P.jsxs)(he.a,{display:"flex",alignItems:"center",padding:"6px 0",flexWrap:"wrap",children:[Object(P.jsxs)(he.a,{display:"flex",children:[Object(P.jsx)(Ge.a,{htmlColor:"#555"}),Object(P.jsx)(B.a,{sx:{ml:"6px",color:"#555"},children:c.location})]}),Object(P.jsxs)(he.a,{display:"flex",marginLeft:"1rem",children:[Object(P.jsx)(He.a,{htmlColor:"#555"}),Object(P.jsx)(Me.a,{sx:{textDecoration:"none",marginLeft:"6px"},href:c.website||"https:/wasifbaliyan.com",children:c.website?c.website:"www"})]}),Object(P.jsxs)(he.a,{display:"flex",marginLeft:"1rem",children:[Object(P.jsx)(Xe.a,{htmlColor:"#555"}),Object(P.jsx)(B.a,{sx:{ml:"6px",color:"#555"},children:c.userId&&c.userId&&c.userId.createdAt&&Object(it.a)(new Date(c.userId.createdAt),"MMM dd yyyy")})]})]}),Object(P.jsxs)(he.a,{display:"flex",children:[Object(P.jsxs)(B.a,{color:"#555",marginRight:"1rem",children:[Object(P.jsx)("strong",{style:{color:"black"},children:"success"===o&&0!==u.length&&u[0].followingId.length+" "}),"Following"]}),Object(P.jsxs)(B.a,{color:"#555",marginRight:"1rem",children:[Object(P.jsx)("strong",{style:{color:"black"},children:"success"===l&&0!==d.length&&d[0].followerId.length+" "}),"Followers"]})]})]}),Object(P.jsx)(he.a,{borderBottom:"1px solid #ccc",children:Object(P.jsx)(B.a,{display:"inline-block",variant:"caption",fontSize:"16px",marginX:"1rem",padding:"6px 0",fontWeight:"500",borderBottom:"4px solid ".concat(e.palette.primary.main),children:"Posts"})}),c.posts&&c.posts.map((function(e){return Object(P.jsx)(st,{post:e,profile:!0},e._id)}))]})]})}var lt=n(142),dt=["path"];function ut(e){var t=e.path,n=Object(lt.a)(e,dt);return Object(m.c)((function(e){return e.auth})).isLoggedIn?Object(P.jsx)(v.b,Object(h.a)({path:t},n)):Object(P.jsx)(v.a,{to:"/login"})}function jt(){var e=Object(m.b)(),t=Object(pe.a)(),n=Object(a.useState)(""),r=Object(j.a)(n,2),c=r[0],s=r[1],i=function(){var t=Object(w.a)(S.a.mark((function t(){return S.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Se({text:c});case 2:t.sent&&(e(Oe()),s(""));case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(P.jsx)(he.a,{padding:"1rem 1rem 0 1rem",borderBottom:"1px solid #ccc",children:Object(P.jsxs)(Z.a,{container:!0,children:[Object(P.jsx)(Z.a,{item:!0,sx:{paddingRight:"1rem"},children:Object(P.jsx)("img",{src:"/user.png",alt:"lgogo",width:"50px"})}),Object(P.jsxs)(Z.a,{item:!0,flexGrow:"1",children:[Object(P.jsx)(he.a,{padding:".5rem 0",children:Object(P.jsx)(ee.a,{value:c,onChange:function(e){return s(e.target.value)},multiline:!0,rows:"2",disableUnderline:!0,type:"text",placeholder:"What's happening?",sx:{width:"100%"}})}),Object(P.jsx)(he.a,{textAlign:"right",paddingBottom:".5rem",paddingTop:".5rem",borderTop:"1px solid #ccc",children:Object(P.jsx)(O.a,{onClick:i,disabled:0===c.length,variant:"contained",color:"primary",sx:{borderRadius:t.shape.borderRadius,fontSize:"12px"},children:"Post"})})]})]})})}function bt(){var e=Object(m.b)(),t=Object(m.c)((function(e){return e.post})),n=t.status,r=t.posts;return Object(a.useEffect)((function(){e(Oe())}),[e]),Object(P.jsxs)(he.a,{children:[Object(P.jsx)(he.a,{borderBottom:"1px solid #ccc",padding:"8px 20px",children:Object(P.jsxs)(Z.a,{container:!0,justifyContent:"space-between",alignItems:"center",children:[Object(P.jsx)(Z.a,{item:!0,children:Object(P.jsx)(B.a,{variant:"h6",children:"Home"})}),Object(P.jsx)(Z.a,{item:!0})]})}),Object(P.jsxs)(he.a,{height:"92vh",sx:{overflowY:"scroll"},children:[Object(P.jsx)(jt,{}),Object(P.jsx)(he.a,{textAlign:"center",marginTop:"1rem",children:"loading"===n&&Object(P.jsx)(g.a,{size:20,color:"primary"})}),"success"===n&&r.map((function(e){return Object(P.jsx)(st,{post:e},e._id)}))]})]})}function xt(e){var t=new Date(Date.parse(e)),n=new Date;pt.ie&&(t=Date.parse(e.replace(/( \+)/," UTC$1")));var r=Math.floor((n-t)/1e3);return r<=1?"just now":r<20?r+" seconds ago":r<40?"half a minute ago":r<60?"less than a minute ago":r<=90?"one minute ago":r<=3540?Math.round(r/60)+" minutes ago":r<=5400?"1 hour ago":r<=86400?Math.round(r/3600)+" hours ago":r<=129600?"1 day ago":r<604800?Math.round(r/86400)+" days ago":r<=777600?"1 week ago":"on "+t}var pt={ie:navigator.userAgent.match(/MSIE\s([^;]*)/)};function ht(e){var t=e.comment;return Object(P.jsx)(he.a,{padding:"1rem",sx:{"&:hover":{backgroundColor:"#eee"}},children:Object(P.jsxs)(Z.a,{container:!0,flexWrap:"nowrap",children:[Object(P.jsx)(Z.a,{item:!0,sx:{paddingRight:"1rem"},children:Object(P.jsx)("img",{src:"/logo.png",alt:"lgoog",width:"50px"})}),Object(P.jsx)(Z.a,{item:!0,flexGrow:"1",children:Object(P.jsx)(he.a,{children:Object(P.jsxs)(Z.a,{container:!0,justifyContent:"space-between",alignItems:"center",flexWrap:"nowrap",children:[Object(P.jsxs)(Z.a,{item:!0,children:[Object(P.jsxs)(he.a,{display:"flex",children:[Object(P.jsx)(B.a,{sx:{fontSize:"16px",fontWeight:500,mr:"6px"},children:t.author.name}),Object(P.jsxs)(B.a,{sx:{fontSize:"15px",mr:"6px",color:"#555"},children:["@",t.author.handle]}),Object(P.jsx)(B.a,{sx:{fontSize:"15px",mr:"6px",color:"#555"},children:"."}),Object(P.jsx)(B.a,{sx:{fontSize:"15px",mr:"6px",color:"#555"},children:xt(t.createdAt)})]}),Object(P.jsx)(he.a,{children:Object(P.jsx)(B.a,{sx:{fontSize:"15px",color:"#555"},children:t.text})})]}),Object(P.jsx)(Z.a,{item:!0,children:Object(P.jsx)(K.a,{children:Object(P.jsx)(se.a,{})})})]})})})]})})}function ft(){var e=Object(a.useState)(""),t=Object(j.a)(e,2),n=t[0],r=t[1],s=Object(x.a)(),i=Object(v.h)().id,o=Object(v.g)(),l=Object(m.b)(),d=Object(m.c)((function(e){return e.post})),u=d.status,b=d.comments,p=d.commentStatus,h=d.postDetails,f=c.a.useState(null),y=Object(j.a)(f,2),k=y[0],I=y[1],C=Boolean(k),z=JSON.parse(localStorage.getItem("login"))._id,L=function(){var e=Object(w.a)(S.a.mark((function e(){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ce({id:h._id});case 2:e.sent&&o.push("/");case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),R=function(){var e=Object(w.a)(S.a.mark((function e(t){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,Ie({id:h._id});case 3:e.sent&&(l(ge(i)),l(me(i)));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){l(ge(i)),l(me(i))}),[l,i]);var _=function(){var e=Object(w.a)(S.a.mark((function e(){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ke({id:i,text:n});case 2:e.sent&&(l(me(i)),r(""));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(P.jsxs)(he.a,{children:[Object(P.jsx)(he.a,{borderBottom:"1px solid #ccc",padding:"8px 20px",children:Object(P.jsxs)(Z.a,{container:!0,alignItems:"center",children:[Object(P.jsx)(Z.a,{item:!0,sx:{mr:"10px"},children:Object(P.jsx)(K.a,{onClick:function(){return o.push("/")},children:Object(P.jsx)(Je.a,{})})}),Object(P.jsx)(Z.a,{item:!0,children:Object(P.jsx)(B.a,{variant:"h6",children:"Post"})})]})}),Object(P.jsxs)(he.a,{height:"92vh",sx:{overflowY:"scroll"},children:[Object(P.jsx)(he.a,{textAlign:"center",marginTop:"1rem",children:"loading"===u&&Object(P.jsx)(g.a,{size:20,color:"primary"})}),"success"===u&&Object(P.jsxs)(he.a,{padding:"0 20px",children:[Object(P.jsx)(he.a,{children:Object(P.jsxs)(Z.a,{container:!0,alignItems:"center",children:[Object(P.jsx)(Z.a,{item:!0,children:Object(P.jsx)("img",{src:"/logo.png",alt:"lgogo",width:"60px"})}),Object(P.jsx)(Z.a,{item:!0,flexGrow:"1",children:Object(P.jsxs)(Z.a,{container:!0,justifyContent:"space-between",children:[Object(P.jsxs)(Z.a,{item:!0,children:[Object(P.jsx)(B.a,{sx:{fontSize:"16px",fontWeight:"500"},children:h.author&&h.author.name}),Object(P.jsxs)(B.a,{sx:{fontSize:"15px",color:"#555"},children:["@",h.author&&h.author.handle]})]}),Object(P.jsxs)(Z.a,{item:!0,children:["success"===u&&h.author&&z===h.author._id&&Object(P.jsx)(K.a,{"aria-expanded":C?"true":void 0,onClick:function(e){e.preventDefault(),I(e.currentTarget)},children:Object(P.jsx)(se.a,{})}),Object(P.jsx)(Q.a,{id:"basic-menu",anchorEl:k,open:C,onClose:function(){I(null)},MenuListProps:{"aria-labelledby":"basic-button"},children:Object(P.jsx)(V.a,{onClick:function(e){e.preventDefault(),L()},children:"Delete Post"})})]})]})})]})}),Object(P.jsx)(he.a,{children:Object(P.jsx)(B.a,{sx:{fontSize:"20px"},children:h.text})}),Object(P.jsxs)(he.a,{display:"flex",padding:"1rem 0",borderBottom:"1px solid #ccc",children:[Object(P.jsx)(B.a,{sx:{fontSize:"14px",mr:"6px",color:"#555"},children:h&&h.createdAt&&Object(it.a)(new Date(h.createdAt),"HH:mm a")}),Object(P.jsx)(B.a,{sx:{fontSize:"14px",mr:"6px",color:"#555"},children:"."}),Object(P.jsx)(B.a,{sx:{fontSize:"14px",mr:"6px",color:"#555"},children:h&&h.createdAt&&Object(it.a)(new Date(h.createdAt),"MMM dd yyyy")})]}),Object(P.jsx)(he.a,{display:"flex",padding:"1rem 0",borderBottom:"1px solid #ccc",children:Object(P.jsxs)(B.a,{sx:{fontSize:"14px",mr:"6px",color:"#555"},children:[Object(P.jsx)("strong",{children:h.likes&&h.likes.length})," ","Likes"]})}),Object(P.jsxs)(he.a,{display:"flex",justifyContent:"space-around",padding:".5rem 0",borderBottom:"1px solid #ccc",children:[Object(P.jsx)(K.a,{size:"small",children:Object(P.jsx)(Qe.a,{fontSize:"small"})}),Object(P.jsx)(K.a,{size:"small",children:Object(P.jsx)(Ze.a,{fontSize:"small"})}),Object(P.jsx)(K.a,{onClick:R,size:"small",children:h.isLiked?Object(P.jsx)(rt.a,{fontSize:"small"}):Object(P.jsx)(tt.a,{fontSize:"small"})}),Object(P.jsx)(K.a,{size:"small",children:Object(P.jsx)(ct.a,{fontSize:"small"})})]}),Object(P.jsxs)(he.a,{children:[Object(P.jsxs)(Z.a,{container:!0,children:[Object(P.jsx)(Z.a,{item:!0,children:Object(P.jsx)("img",{src:"/logo.png",alt:"logo",width:"60px"})}),Object(P.jsxs)(Z.a,{item:!0,flexGrow:"1",children:[Object(P.jsx)(he.a,{padding:".5rem 0",children:Object(P.jsx)(ee.a,{onChange:function(e){return r(e.target.value)},value:n,multiline:!0,rows:"2",disableUnderline:!0,type:"text",placeholder:"Post your comment",sx:{width:"100%"}})}),Object(P.jsx)(he.a,{textAlign:"right",paddingBottom:".5rem",children:Object(P.jsx)(O.a,{disabled:0===n.length,onClick:_,variant:"contained",color:"primary",size:"small",sx:{borderRadius:s.shape.borderRadius,fontSize:"12px"},children:"Comment"})})]})]}),Object(P.jsx)(he.a,{textAlign:"center",marginTop:"1rem",children:"loading"===p&&Object(P.jsx)(g.a,{size:20,color:"primary"})}),"success"===p&&b.map((function(e){return Object(P.jsx)(ht,{comment:e},e._id)}))]})]})]})]})}var Ot=function(){var e=Object(m.b)(),t=Object(m.c)((function(e){return e.auth})).isLoggedIn;return Object(a.useEffect)((function(){if("login"in localStorage){var e=JSON.parse(localStorage.getItem("login"));l.a.defaults.headers.common.authorization="Bearer ".concat(e.token)}}),[t]),Object(a.useEffect)((function(){var t=(JSON.parse(localStorage.getItem("login"))||{}).isLoggedIn;t&&e(A({isLoggedIn:t}))}),[e,t]),Object(P.jsxs)(v.d,{children:[Object(P.jsx)(ut,{exact:!0,path:"/profile/:id",children:Object(P.jsx)(Be,{children:Object(P.jsx)(ot,{})})}),Object(P.jsx)(ut,{exact:!0,path:"/posts/:id",children:Object(P.jsx)(Be,{children:Object(P.jsx)(ft,{})})}),Object(P.jsx)(ut,{exact:!0,path:"/home",children:Object(P.jsx)(Be,{children:Object(P.jsx)(bt,{})})}),Object(P.jsx)(v.b,{exact:!0,path:"/",children:Object(P.jsx)(M,{})}),Object(P.jsx)(v.b,{exact:!0,path:"/login",children:Object(P.jsx)(M,{})}),Object(P.jsx)(v.b,{exact:!0,path:"/register",children:Object(P.jsx)(U,{})})]})},gt=Object(k.a)({reducer:{auth:_,post:we,follow:Te}}),mt=Object(d.a)({});l.a.defaults.baseURL="https://smappp.netlify.app",i.a.render(Object(P.jsx)(c.a.StrictMode,{children:Object(P.jsx)(m.a,{store:gt,children:Object(P.jsx)(W.a,{children:Object(P.jsx)(u.a,{theme:mt,children:Object(P.jsx)(Ot,{})})})})}),document.getElementById("root"))}},[[194,1,2]]]);
//# sourceMappingURL=main.0c803560.chunk.js.map