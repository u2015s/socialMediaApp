(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{183:function(e,t,n){},195:function(e,t,n){"use strict";n.r(t);var r,a=n(1),c=n.n(a),s=n(45),i=n.n(s),o=n(23),l=n.n(o),j=n(111),d=n(257),u=(n(183),n(10)),x=n(246),b=n(39),p=n(3),h=n(25),O=n(252),f=n(259),g=n(265),m=n(16),v=n(18),w=n(19),y=n(12),S=n.n(y),k=n(29),I=Object(k.b)("auth/loginUser",function(){var e=Object(w.a)(S.a.mark((function e(t){var n,r;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.post("/auth/login",t);case 2:return n=e.sent,r=n.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),C=Object(k.b)("auth/registerUser",function(){var e=Object(w.a)(S.a.mark((function e(t){var n,r;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.post("/auth/register",t);case 2:return n=e.sent,r=n.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),z=Object(k.b)("auth/getProfile",function(){var e=Object(w.a)(S.a.mark((function e(t){var n,r;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.get("/api/profile/"+t);case 2:return n=e.sent,r=n.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),R=Object(k.b)("auth/getUsers",Object(w.a)(S.a.mark((function e(){var t,n;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.get("/auth/users/");case 2:return t=e.sent,n=t.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))),_=Object(k.c)({name:"auth",initialState:{status:"idle",isLoggedIn:!1,user:{},profile:{},userStatus:"idle",users:[]},reducers:{setAuth:function(e,t){e.isLoggedIn=t.payload.isLoggedIn},logout:function(e,t){localStorage.clear(),e.isLoggedIn=!1,l.a.defaults.headers.common.authorization=null},setUser:function(e,t){e.user=t.payload}},extraReducers:(r={},Object(p.a)(r,I.pending,(function(e,t){e.status="loading"})),Object(p.a)(r,I.fulfilled,(function(e,t){var n=t.payload.response,r=n.token,a=n.name,c=n.email,s=n._id;localStorage.setItem("login",JSON.stringify({token:r,email:c,_id:s,name:a,isLoggedIn:!0})),e.user.name=a,e.user.email=c,e.user._id=s,e.status="success",e.isLoggedIn=!0})),Object(p.a)(r,I.rejected,(function(e,t){e.status="failed",e.isLoggedIn=!1})),Object(p.a)(r,C.pending,(function(e,t){e.status="loading"})),Object(p.a)(r,C.fulfilled,(function(e,t){e.status="success";var n=t.payload.response,r=n.token,a=n.name,c=n.email;localStorage.setItem("login",JSON.stringify({token:r,name:a,email:c,isLoggedIn:!0})),e.user.name=a,e.user.email=c,e.isLoggedIn=!0})),Object(p.a)(r,C.rejected,(function(e,t){e.status="failed",e.isLoggedIn=!1})),Object(p.a)(r,z.pending,(function(e,t){e.status="loading"})),Object(p.a)(r,z.fulfilled,(function(e,t){e.status="success",e.profile=t.payload.profile})),Object(p.a)(r,z.rejected,(function(e,t){e.status="failed"})),Object(p.a)(r,R.pending,(function(e,t){e.userStatus="loading"})),Object(p.a)(r,R.fulfilled,(function(e,t){e.userStatus="success",e.users=t.payload.response.users})),Object(p.a)(r,R.rejected,(function(e,t){e.userStatus="failed"})),r)}),L=_.reducer,D=_.actions,A=D.setAuth,F=D.logout,E=n(0);function B(){var e=Object(a.useState)({}),t=Object(u.a)(e,2),n=t[0],r=t[1],c=Object(m.b)(),s=Object(v.g)(),i=Object(m.c)((function(e){return e.auth})),o=i.status,l=i.isLoggedIn;return Object(a.useEffect)((function(){l&&s.push("/home")}),[l,s]),Object(E.jsxs)(E.Fragment,{children:[Object(E.jsxs)("form",{onSubmit:function(e){e.preventDefault(),c(I(n))},children:[Object(E.jsx)(O.a,{onChange:function(e){return r((function(t){return Object(h.a)(Object(h.a)({},t),{},Object(p.a)({},e.target.name,e.target.value))}))},sx:{width:"100%",margin:"1rem 0",bgcolor:"#fff"},variant:"outlined",label:"Enter Email",type:"email",required:!0,name:"email"}),Object(E.jsx)(O.a,{sx:{width:"100%",margin:"1rem 0",bgcolor:"#fff"},variant:"outlined",label:"Enter Password",type:"password",required:!0,onChange:function(e){return r((function(t){return Object(h.a)(Object(h.a)({},t),{},Object(p.a)({},e.target.name,e.target.value))}))},name:"password"}),Object(E.jsx)(f.a,{sx:{width:"100%",margin:"1.5rem 0",padding:"12px 0",borderRadius:"28px",backgroundColor:"#00c8ff"},variant:"contained",type:"submit",children:"loading"===o?Object(E.jsx)(g.a,{size:24,sx:{color:"#FFF"}}):"Login"})]}),Object(E.jsx)(f.a,{onClick:function(){r({email:"user@mail.com",password:"user1234"}),c(I({email:"user@mail.com",password:"user1234"}))},sx:{width:"100%",margin:".5rem 0 1rem 0.5rem",padding:"12px 0",borderRadius:"28px"},variant:"outlined",color:"primary",children:"loading"===o?"Logging in...":"Login as guest"})]})}function P(){var e=Object(a.useState)({}),t=Object(u.a)(e,2),n=t[0],r=t[1],c=Object(m.b)(),s=Object(v.g)(),i=Object(m.c)((function(e){return e.auth})),o=i.status,l=i.isLoggedIn;return Object(a.useEffect)((function(){l&&s.push("/home")}),[l,s]),Object(E.jsxs)("form",{onSubmit:function(e){e.preventDefault(),c(C(n))},children:[Object(E.jsx)(O.a,{onChange:function(e){return r((function(t){return Object(h.a)(Object(h.a)({},t),{},Object(p.a)({},e.target.name,e.target.value))}))},name:"name",sx:{width:"100%",margin:"1rem 0",bgcolor:"#fff"},variant:"outlined",label:"Enter full name",type:"text",required:!0}),Object(E.jsx)(O.a,{name:"handle",onChange:function(e){return r((function(t){return Object(h.a)(Object(h.a)({},t),{},Object(p.a)({},e.target.name,e.target.value))}))},sx:{width:"100%",margin:"1rem 0",bgcolor:"#fff"},variant:"outlined",label:"Choose an handle",type:"text",required:!0}),Object(E.jsx)(O.a,{name:"email",onChange:function(e){return r((function(t){return Object(h.a)(Object(h.a)({},t),{},Object(p.a)({},e.target.name,e.target.value))}))},sx:{width:"100%",margin:"1rem 0",bgcolor:"#fff"},variant:"outlined",label:"Enter Email",type:"email",required:!0}),Object(E.jsx)(O.a,{name:"password",onChange:function(e){return r((function(t){return Object(h.a)(Object(h.a)({},t),{},Object(p.a)({},e.target.name,e.target.value))}))},sx:{width:"100%",margin:"1rem 0",bgcolor:"#fff"},variant:"outlined",label:"Enter Password",type:"password",required:!0}),Object(E.jsx)(f.a,{type:"submit",sx:{width:"100%",margin:"1.5rem 0",padding:"12px 0",borderRadius:"28px",backgroundColor:"#00c8ff"},variant:"contained",children:"loading"===o?Object(E.jsx)(g.a,{size:24,sx:{color:"#FFF"}}):"Register"})]})}var T=n(24),W=n(79);function M(){var e=Object(a.useState)(!0),t=Object(u.a)(e,2),n=t[0],r=(t[1],Object(b.a)());return Object(E.jsx)(x.a,{display:"flex",justifyContent:"center",alignItems:"center",sx:{width:"100vw",height:"100vh",backgroundColor:"#00c8ff"},children:Object(E.jsxs)(x.a,{borderRadius:r.shape.borderRadius,sx:{width:r.breakpoints.values.sm,bgcolor:"#FFFFFF",padding:" 3rem 2rem"},children:[Object(E.jsx)(x.a,{textAlign:"center",marginBottom:"1rem",children:Object(E.jsx)("img",{src:"/logo.png",alt:"Logo"})}),n?Object(E.jsx)(W.a,{variant:"h5",children:"Login to your account"}):Object(E.jsx)(W.a,{variant:"h5",children:"Create a new account"}),n?Object(E.jsx)(B,{}):Object(E.jsx)(P,{}),n?Object(E.jsxs)(x.a,{textAlign:"center",margin:".5rem 0",children:["Don't have an account?"," ",Object(E.jsx)(T.b,{to:"/register",children:"Create one"})]}):Object(E.jsxs)(x.a,{textAlign:"center",margin:".5rem 0",children:["Already registered?"," ",Object(E.jsx)(T.b,{to:"/login",children:"Sign in"})]})]})})}function J(){var e=Object(a.useState)(!1),t=Object(u.a)(e,2),n=(t[0],t[1],Object(b.a)());return Object(E.jsx)(x.a,{display:"flex",justifyContent:"center",alignItems:"center",sx:{width:"100vw",height:"100vh",backgroundColor:"#00c8ff"},children:Object(E.jsxs)(x.a,{borderRadius:n.shape.borderRadius,sx:{width:n.breakpoints.values.sm,bgcolor:"#FFFFFF",padding:" 3rem 2rem"},children:[Object(E.jsx)(x.a,{textAlign:"center",marginBottom:"1rem",children:Object(E.jsx)("img",{src:"/logo.png",alt:"Logo"})}),Object(E.jsx)(W.a,{variant:"h5",children:"Create a new account"}),Object(E.jsx)(P,{}),Object(E.jsxs)(x.a,{textAlign:"center",margin:".5rem 0",children:["Already registered?"," ",Object(E.jsx)(T.b,{to:"/login",children:"Sign in"})]})]})})}var U,N=n(264),G=n(256),q=n(249),H=n(250),Y=n(137),X=n.n(Y),$=n(255),K=n(267),Q=n(144),V=n(260),Z=n(261),ee=n(262),te=n(91),ne=n.n(te),re=n(138),ae=n.n(re),ce=n(41),se=n.n(ce),ie=n(139),oe=n.n(ie),le=n(266),je=n(269),de=n(268),ue=n(247),xe=n(135),be=n.n(xe),pe=n(56),he=n(248);function Oe(e){var t=e.children,n=e.open,r=e.handleClose,a=e.handleSave,c=e.saveText,s=e.len,i=Object(pe.a)();return Object(E.jsxs)(le.a,{open:n,onClose:r,fullWidth:!0,maxWidth:"sm",children:[Object(E.jsx)(ue.a,{children:Object(E.jsx)(he.a,{textAlign:"right",borderBottom:"1px solid #ccc",children:Object(E.jsx)(K.a,{onClick:r,children:Object(E.jsx)(be.a,{})})})}),Object(E.jsx)(de.a,{children:t}),Object(E.jsx)(je.a,{children:Object(E.jsx)(f.a,{disabled:0===s,variant:"contained",color:"primary",size:"small",sx:{borderRadius:i.shape.borderRadius,fontSize:"12px"},onClick:function(){a(),r()},children:c})})]})}var fe=Object(k.b)("post/getPosts",Object(w.a)(S.a.mark((function e(){var t,n;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.get("/api/posts");case 2:return t=e.sent,n=t.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))),ge=Object(k.b)("post/getPostDetails",function(){var e=Object(w.a)(S.a.mark((function e(t){var n,r;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.get("/api/posts/"+t);case 2:return n=e.sent,r=n.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),me=Object(k.b)("post/getComments",function(){var e=Object(w.a)(S.a.mark((function e(t){var n,r;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.get("/api/comments/"+t);case 2:return n=e.sent,r=n.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),ve=Object(k.c)({name:"post",initialState:{status:"idle",posts:[],postDetails:{},commentStatus:"idle",comments:[]},reducers:{updateLike:function(e,t){var n=e.posts.findIndex((function(e){return e._id===t.payload.id}));e.posts[n].isLiked=!e.posts[n].isLiked}},extraReducers:(U={},Object(p.a)(U,fe.pending,(function(e,t){e.status="loading"})),Object(p.a)(U,fe.fulfilled,(function(e,t){e.status="success",e.posts=t.payload.response.posts})),Object(p.a)(U,fe.rejected,(function(e,t){e.status="failed"})),Object(p.a)(U,ge.pending,(function(e,t){e.status="loading"})),Object(p.a)(U,ge.fulfilled,(function(e,t){e.status="success",e.postDetails=t.payload.response.post})),Object(p.a)(U,ge.rejected,(function(e,t){e.status="failed"})),Object(p.a)(U,me.pending,(function(e,t){e.commentStatus="loading"})),Object(p.a)(U,me.fulfilled,(function(e,t){e.commentStatus="success",e.comments=t.payload.response.comments})),Object(p.a)(U,me.rejected,(function(e,t){e.commentStatus="failed"})),U)}),we=ve.reducer,ye=ve.actions.updateLike,Se=function(){var e=Object(w.a)(S.a.mark((function e(t){var n,r;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l.a.post("/api/posts",t);case 3:return n=e.sent,r=n.data,e.abrupt("return",r);case 8:e.prev=8,e.t0=e.catch(0),alert("Something went wrong.");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),ke=function(){var e=Object(w.a)(S.a.mark((function e(t){var n,r;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l.a.post("/api/comments/"+t.id,t);case 3:return n=e.sent,r=n.data,e.abrupt("return",r);case 8:e.prev=8,e.t0=e.catch(0),alert("Something went wrong.");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),Ie=function(){var e=Object(w.a)(S.a.mark((function e(t){var n,r;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l.a.post("/api/posts/likes",t);case 3:return n=e.sent,r=n.data,e.abrupt("return",r);case 8:e.prev=8,e.t0=e.catch(0),alert("Something went wrong.");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),Ce=function(){var e=Object(w.a)(S.a.mark((function e(t){var n,r;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l.a.delete("/api/posts/".concat(t.id));case 3:return n=e.sent,r=n.data,e.abrupt("return",r);case 8:e.prev=8,e.t0=e.catch(0),alert("Something went wrong.");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),ze=function(){var e=Object(w.a)(S.a.mark((function e(t){var n,r;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l.a.post("/api/followers",t);case 3:return n=e.sent,r=n.data,e.abrupt("return",r);case 8:e.prev=8,e.t0=e.catch(0),alert("Something went wrong.");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),Re=function(){var e=Object(w.a)(S.a.mark((function e(t){var n,r;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l.a.post("/api/followings",t);case 3:return n=e.sent,r=n.data,e.abrupt("return",r);case 8:e.prev=8,e.t0=e.catch(0),alert("Something went wrong.");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),_e=function(){var e=Object(w.a)(S.a.mark((function e(t){var n,r;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l.a.post("/api/followings/delete",t);case 3:return n=e.sent,r=n.data,e.abrupt("return",r);case 8:e.prev=8,e.t0=e.catch(0),alert("Something went wrong.");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}();function Le(){var e=Object(b.a)(),t=Object(m.b)(),n=JSON.parse(localStorage.getItem("login"))._id,r=a.useState(null),c=Object(u.a)(r,2),s=c[0],i=c[1],o=Boolean(s),l=function(){i(null)},j=a.useState(!1),d=Object(u.a)(j,2),p=d[0],h=d[1],O=function(){h(!0)},g=a.useState(""),v=Object(u.a)(g,2),y=v[0],k=v[1],I=function(){var e=Object(w.a)(S.a.mark((function e(){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Se({text:y});case 2:e.sent&&(t(fe()),k(""));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsxs)(x.a,{sx:{height:"100vh",maxWidth:"100%"},children:[Object(E.jsx)(x.a,{textAlign:"center",sx:{marginTop:"3%"},children:Object(E.jsx)(T.c,{to:"/home",style:{textDecoration:"none",color:"inherit",backgroundColor:"inherit"},children:Object(E.jsx)("img",{src:"/logo512.png",alt:"logo",width:"80px"})})}),Object(E.jsxs)(N.a,{children:[Object(E.jsx)(T.c,{to:"/home",style:{textDecoration:"none",color:"inherit",backgroundColor:"inherit"},children:Object(E.jsxs)(G.a,{button:!0,sx:{borderRadius:"28px",margin:".5rem 0"},children:[Object(E.jsx)(q.a,{children:Object(E.jsx)(X.a,{fontSize:"medium",color:"action"})}),Object(E.jsx)($.a,{lgDown:!0,children:Object(E.jsx)(H.a,{primaryTypographyProps:{fontSize:"18px",color:e.palette.action.active},primary:"Home"})})]})}),Object(E.jsx)(T.c,{to:"/messages",style:{textDecoration:"none",color:"inherit",backgroundColor:"inherit"},children:Object(E.jsxs)(G.a,{button:!0,sx:{borderRadius:"28px",margin:".5rem 0"},children:[Object(E.jsx)(q.a,{children:Object(E.jsx)(ne.a,{fontSize:"medium",color:"action"})}),Object(E.jsx)($.a,{lgDown:!0,children:Object(E.jsx)(H.a,{primaryTypographyProps:{fontSize:"18px",color:e.palette.action.active},primary:"Messages"})})]})}),Object(E.jsx)(T.c,{to:"/profile/".concat(n),style:{textDecoration:"none",color:"inherit",backgroundColor:"inherit"},children:Object(E.jsxs)(G.a,{button:!0,sx:{borderRadius:"28px",margin:".5rem 0"},children:[Object(E.jsx)(q.a,{children:Object(E.jsx)(ae.a,{fontSize:"medium",color:"action"})}),Object(E.jsx)($.a,{lgDown:!0,children:Object(E.jsx)(H.a,{primaryTypographyProps:{fontSize:"18px",color:e.palette.action.active},primary:"Profile"})})]})}),Object(E.jsxs)(G.a,{id:"basic-button","aria-controls":"basic-menu","aria-haspopup":"true","aria-expanded":o?"true":void 0,onClick:function(e){i(e.currentTarget)},button:!0,sx:{borderRadius:"28px",margin:".5rem 0"},children:[Object(E.jsx)(q.a,{children:Object(E.jsx)(se.a,{fontSize:"medium",color:"action"})}),Object(E.jsx)($.a,{lgDown:!0,children:Object(E.jsx)(H.a,{primaryTypographyProps:{fontSize:"18px",color:e.palette.action.active},primary:"More"})})]})]}),Object(E.jsx)($.a,{lgDown:!0,children:Object(E.jsx)(f.a,{onClick:O,variant:"contained",color:"primary",fullWidth:!0,style:{borderRadius:"28px",padding:"10px",textTransform:"capitalize"},children:"Post"})}),Object(E.jsx)($.a,{lgUp:!0,children:Object(E.jsx)(K.a,{onClick:O,variant:"contained",color:"primary",style:{borderRadius:"28px",padding:"0 15px",textTransform:"capitalize",textAlign:"center"},children:Object(E.jsx)(oe.a,{})})}),Object(E.jsx)(Q.a,{id:"basic-menu",anchorEl:s,open:o,onClose:l,MenuListProps:{"aria-labelledby":"basic-button"},children:Object(E.jsx)(V.a,{onClick:function(){t(F()),l()},children:"Logout"})})]}),p&&Object(E.jsx)(Oe,{open:p,handleClose:function(){h(!1)},saveText:"Post",len:y.length,handleSave:I,children:Object(E.jsx)(x.a,{children:Object(E.jsxs)(Z.a,{container:!0,children:[Object(E.jsx)(Z.a,{item:!0,children:Object(E.jsx)("img",{src:"/logo.png",alt:"logo",width:"60px"})}),Object(E.jsx)(Z.a,{item:!0,flexGrow:"1",children:Object(E.jsx)(x.a,{padding:".5rem 0",children:Object(E.jsx)(ee.a,{value:y,onChange:function(e){return k(e.target.value)},multiline:!0,rows:"2",disableUnderline:!0,type:"text",placeholder:"What's happening?",sx:{width:"100%"}})})})]})})})]})}var De,Ae=n(251),Fe=Object(k.b)("follow/getFollowings",function(){var e=Object(w.a)(S.a.mark((function e(t){var n,r;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.get("/api/followings/"+t);case 2:return n=e.sent,r=n.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Ee=Object(k.b)("follow/getFollowers",function(){var e=Object(w.a)(S.a.mark((function e(t){var n,r;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.get("/api/followers/"+t);case 2:return n=e.sent,r=n.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Be=Object(k.c)({name:"follow",initialState:{followingStatus:"idle",followings:[],followerStatus:"idle",followers:[]},reducers:{},extraReducers:(De={},Object(p.a)(De,Fe.pending,(function(e,t){e.followingStatus="loading"})),Object(p.a)(De,Fe.fulfilled,(function(e,t){e.followingStatus="success",e.followings=t.payload.response.followings})),Object(p.a)(De,Fe.rejected,(function(e,t){e.followingStatus="failed"})),Object(p.a)(De,Ee.pending,(function(e,t){e.followerStatus="loading"})),Object(p.a)(De,Ee.fulfilled,(function(e,t){e.followerStatus="success",e.followers=t.payload.response.followers})),Object(p.a)(De,Ee.rejected,(function(e,t){e.followerStatus="failed"})),De)}).reducer;function Pe(e){var t=e.user,n=Object(b.a)(),r=JSON.parse(localStorage.getItem("login"))._id,c=Object(a.useState)(!1),s=Object(u.a)(c,2),i=s[0],o=s[1],l=Object(m.b)(),j=Object(m.c)((function(e){return e.follow})),d=j.followings,x=(j.followers,j.followingStatus);Object(a.useEffect)((function(){if("success"===x)for(var e=0;e<d.length;e++){d[e]._id===t._id&&o(!0)}}),[x]);var p=function(){var e=Object(w.a)(S.a.mark((function e(){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("39"),e.next=3,Re({userId:r,followingId:t._id});case 3:"following added successfully."===e.sent.message&&o(!0);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),h=function(){var e=Object(w.a)(S.a.mark((function e(){var n;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_e({userId:r,deleteId:t._id});case 2:n=e.sent,console.log(n.message),"following removed successfully."===n.message&&(l(Fe(r)),o(!1));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(E.jsx)(he.a,{margin:"1rem 0",children:Object(E.jsxs)(Z.a,{container:!0,alignItems:"center",justifyContent:"space-between",children:[Object(E.jsx)(Z.a,{item:!0,children:Object(E.jsxs)(Z.a,{container:!0,children:[Object(E.jsx)(Z.a,{item:!0,sx:{paddingRight:"12px"},children:Object(E.jsx)("img",{src:"/user.png",width:"50px",alt:"logo"})}),Object(E.jsx)(Z.a,{item:!0,children:Object(E.jsx)(Z.a,{container:!0,alignItems:"center",children:Object(E.jsxs)(Z.a,{item:!0,children:[Object(E.jsx)(W.a,{sx:{fontSize:"16px",fontWeight:"500"},children:t.name}),Object(E.jsx)(he.a,{display:"flex",alignItems:"center",children:Object(E.jsx)(W.a,{sx:{fontSize:"14px",mr:"6px",color:"#555"},children:"@"+t.handle})})]})})})]})}),Object(E.jsx)(Z.a,{item:!0,children:i?Object(E.jsx)(f.a,{size:"small",sx:{borderRadius:n.shape.borderRadius,textTransform:"capitalize",ml:"12px",background:"black","&:hover":{background:"#333"}},variant:"contained",onClick:function(e){h()},children:"Unfollow"}):Object(E.jsx)(f.a,{size:"small",sx:{borderRadius:n.shape.borderRadius,textTransform:"capitalize",ml:"12px",background:"black","&:hover":{background:"#333"}},variant:"contained",onClick:function(e){p()},children:"Follow"})})]})})}function Te(){var e=c.a.useState(""),t=Object(u.a)(e,2),n=t[0],r=t[1],s=JSON.parse(localStorage.getItem("login"))._id,i=Object(m.b)(),o=Object(m.c)((function(e){return e.auth})),l=o.users,j=o.userStatus;function d(){return l.filter((function(e){return e.name.toLowerCase().includes(n.toLowerCase())||e.handle.toLowerCase().includes(n.toLowerCase())}))}return Object(a.useEffect)((function(){i(Fe(s))}),[]),Object(E.jsx)(he.a,{sx:{height:"100%"},children:Object(E.jsxs)(he.a,{paddingTop:"10px",children:[Object(E.jsxs)(he.a,{width:"100%",borderRadius:"28px",border:"1px solid #eee",position:"relative",sx:{background:"#eee"},children:[Object(E.jsx)(ee.a,{value:n,onChange:function(e){return r(e.target.value)},type:"text",inputProps:{style:{padding:"10px"}},disableUnderline:!0,fullWidth:!0,placeholder:"Search",startAdornment:Object(E.jsx)(Ae.a,{sx:{paddingLeft:"20px",color:"#777"}})}),0!==n.length&&Object(E.jsxs)(he.a,{width:"100%",sx:{backgroundColor:"white",border:"1px solid #eee",borderRadius:"28px",padding:"1rem 0",zIndex:"999",maxHeight:"50vh",overflowY:"scroll"},position:"absolute",children:[0!==n.length&&0===d().length&&Object(E.jsx)(W.a,{sx:{padding:"0 1rem"},children:"No users found!"}),d().map((function(e){return Object(E.jsx)(he.a,{children:Object(E.jsx)(T.b,{onClick:function(){return r("")},style:{textDecoration:"none"},to:"/profile/".concat(e._id),children:Object(E.jsxs)(Z.a,{sx:{overflow:"hidden",padding:".2rem 1rem","&:hover":{backgroundColor:"#eee"}},container:!0,alignItems:"center",children:[Object(E.jsx)(Z.a,{item:!0,sx:{paddingRight:"12px"},children:Object(E.jsx)("img",{src:"/logo.png",width:"50px",alt:"logo"})}),Object(E.jsx)(Z.a,{item:!0,children:Object(E.jsx)(Z.a,{container:!0,alignItems:"center",children:Object(E.jsxs)(Z.a,{item:!0,children:[Object(E.jsx)(W.a,{sx:{fontSize:"16px",fontWeight:"500",color:"#000"},children:e.name}),Object(E.jsx)(he.a,{display:"flex",alignItems:"center",children:Object(E.jsx)(W.a,{sx:{fontSize:"14px",mr:"6px",color:"#555"},children:e.handle})})]})})})]})})},e._id)}))]})]}),Object(E.jsxs)(he.a,{sx:{background:"#eee",borderRadius:"28px",padding:"10px 20px",margin:"1rem 0"},children:[Object(E.jsx)(W.a,{variant:"h6",sx:{fontWeight:"bold"},children:"Who to follow"}),"success"===j&&l.filter((function(e){return e._id!==s})).slice(0,7).map((function(e){return Object(E.jsx)(Pe,{user:e},e._id)}))]})]})})}function We(e){var t=e.children,n=Object(pe.a)(),r=Object(m.b)();return Object(a.useEffect)((function(){r(R())}),[r]),Object(E.jsx)(x.a,{sx:{maxWidth:n.breakpoints.values.lg,margin:"0 auto"},children:Object(E.jsxs)(Z.a,{container:!0,children:[Object(E.jsx)(Z.a,{item:!0,xs:1,lg:2,children:Object(E.jsx)(Le,{})}),Object(E.jsx)(Z.a,{item:!0,xs:11,lg:10,children:Object(E.jsxs)(Z.a,{container:!0,children:[Object(E.jsx)(Z.a,{item:!0,xs:12,lg:8,children:Object(E.jsx)(x.a,{sx:{height:"100vh",margin:"0 1rem",borderLeft:"1px solid #ccc",borderRight:"1px solid #ccc"},children:t})}),Object(E.jsx)($.a,{lgDown:!0,children:Object(E.jsx)(Z.a,{item:!0,lg:4,sx:{height:"100vh"},children:Object(E.jsx)(Te,{})})})]})})]})})}var Me=n(270),Je=n(66),Ue=n.n(Je),Ne=n(140),Ge=n.n(Ne),qe=n(141),He=n.n(qe),Ye=n(142),Xe=n.n(Ye),$e=n(103),Ke=n(59),Qe=n.n(Ke),Ve=n(60),Ze=n.n(Ve),et=n(62),tt=n.n(et),nt=n(61),rt=n.n(nt),at=n(63),ct=n.n(at);function st(e){var t=e.post,n=e.profile,r=Object(m.b)(),s=Object(a.useState)(""),i=Object(u.a)(s,2),o=i[0],l=i[1],j=c.a.useState(null),d=Object(u.a)(j,2),x=d[0],b=d[1],p=Boolean(x),h=JSON.parse(localStorage.getItem("login"))._id,O=function(){var e=Object(w.a)(S.a.mark((function e(n){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),r(ye({id:t._id})),e.next=4,Ie({id:t._id});case 4:"Post updated successfully."!==e.sent.message&&r(ye({id:t._id}));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=Object(w.a)(S.a.mark((function e(){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ke({id:t._id,text:o});case 2:e.sent&&l("");case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),g=function(){var e=Object(w.a)(S.a.mark((function e(){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ce({id:t._id});case 2:e.sent&&r(n?z(t.author._id):fe());case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),v=c.a.useState(!1),y=Object(u.a)(v,2),k=y[0],I=y[1];return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(T.b,{to:"/posts/".concat(t._id),style:{textDecoration:"none",color:"inherit"},children:Object(E.jsx)(he.a,{padding:"1rem",sx:{"&:hover":{backgroundColor:"#eee"}},children:Object(E.jsxs)(Z.a,{container:!0,flexWrap:"nowrap",children:[Object(E.jsx)(Z.a,{item:!0,sx:{paddingRight:"1rem"},children:Object(E.jsx)(T.b,{to:"/profile/".concat(t.author._id),children:Object(E.jsx)("img",{src:"/user.png",alt:"lgoog",width:"50px"})})}),Object(E.jsx)(Z.a,{item:!0,flexGrow:"1",children:Object(E.jsxs)(he.a,{children:[Object(E.jsxs)(Z.a,{container:!0,justifyContent:"space-between",alignItems:"center",flexWrap:"nowrap",children:[Object(E.jsxs)(Z.a,{item:!0,children:[Object(E.jsxs)(he.a,{display:"flex",children:[Object(E.jsx)(W.a,{sx:{fontSize:"16px",fontWeight:500,mr:"6px"},children:t.author.name}),Object(E.jsxs)(W.a,{sx:{fontSize:"15px",mr:"6px",color:"#555"},children:["@",t.author.handle]}),Object(E.jsx)(W.a,{sx:{fontSize:"15px",mr:"6px",color:"#555"},children:"."}),Object(E.jsx)(W.a,{sx:{fontSize:"15px",mr:"6px",color:"#555"},children:Object($e.a)(new Date(t.createdAt))})]}),Object(E.jsx)(he.a,{children:Object(E.jsx)(W.a,{sx:{fontSize:"15px",color:"#555"},children:t.text})})]}),Object(E.jsxs)(Z.a,{item:!0,children:[t.author._id===h&&Object(E.jsx)(K.a,{"aria-expanded":p?"true":void 0,onClick:function(e){e.preventDefault(),b(e.currentTarget)},children:Object(E.jsx)(se.a,{})}),Object(E.jsx)(Q.a,{id:"basic-menu",anchorEl:x,open:p,onClose:function(){b(null)},MenuListProps:{"aria-labelledby":"basic-button"},children:Object(E.jsx)(V.a,{onClick:function(e){e.preventDefault(),g()},children:"Delete Post"})})]})]}),Object(E.jsxs)(he.a,{display:"flex",justifyContent:"space-between",marginRight:"5rem",marginTop:".8rem",children:[Object(E.jsx)(K.a,{onClick:function(e){e.preventDefault(),I(!0)},size:"small",children:Object(E.jsx)(Qe.a,{fontSize:"small"})}),Object(E.jsx)(K.a,{size:"small",children:Object(E.jsx)(Ze.a,{fontSize:"small"})}),Object(E.jsx)(K.a,{onClick:O,size:"small",children:t.isLiked?Object(E.jsx)(rt.a,{fontSize:"small"}):Object(E.jsx)(tt.a,{fontSize:"small"})}),Object(E.jsx)(K.a,{size:"small",children:Object(E.jsx)(ct.a,{fontSize:"small"})})]})]})})]})})}),k&&Object(E.jsx)(Oe,{open:k,handleClose:function(){I(!1)},saveText:"Comment",len:o.length,handleSave:f,children:Object(E.jsx)(he.a,{children:Object(E.jsxs)(Z.a,{container:!0,children:[Object(E.jsx)(Z.a,{item:!0,children:Object(E.jsx)("img",{src:"/logo.png",alt:"logo",width:"60px"})}),Object(E.jsx)(Z.a,{item:!0,flexGrow:"1",children:Object(E.jsx)(he.a,{padding:".5rem 0",children:Object(E.jsx)(ee.a,{onChange:function(e){return l(e.target.value)},value:o,multiline:!0,rows:"2",disableUnderline:!0,type:"text",placeholder:"Post your comment",sx:{width:"100%"}})})})]})})})]})}var it=n(67);function ot(){var e=Object(b.a)(),t=Object(v.h)().id,n=Object(m.b)(),r=Object(m.c)((function(e){return e.auth})),c=r.profile,s=r.status,i=Object(m.c)((function(e){return e.follow})),o=i.followingStatus,l=i.followerStatus,j=i.followers,d=i.followings,u=JSON.parse(localStorage.getItem("login"))._id;Object(a.useEffect)((function(){n(z(t))}),[n,t]),Object(a.useEffect)((function(){c.userId&&(n(Ee(c.userId._id)),n(Fe(c.userId._id)))}),[n,c.userId]);var x=function(){var e=Object(w.a)(S.a.mark((function e(){var r,a;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ze({userId:c.userId._id,followerId:u});case 2:return r=e.sent,e.next=5,Re({followingId:c.userId._id,userId:u});case 5:a=e.sent,r&&n(Ee(t)),a&&n(Fe(t));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(E.jsxs)(he.a,{children:[Object(E.jsx)(he.a,{borderBottom:"1px solid #ccc",padding:"8px 20px",children:Object(E.jsxs)(Z.a,{container:!0,alignItems:"center",children:[Object(E.jsx)(Z.a,{item:!0,sx:{mr:"10px"},children:Object(E.jsx)(T.b,{to:"/",children:Object(E.jsx)(K.a,{children:Object(E.jsx)(Ue.a,{})})})}),"success"===s&&Object(E.jsxs)(Z.a,{item:!0,children:[Object(E.jsx)(W.a,{variant:"h6",children:c.userId&&c.userId&&c.userId.name}),Object(E.jsxs)(W.a,{sx:{fontSize:"12px",color:"#555"},children:[c.posts&&c.posts.length," posts"]})," "]})]})}),Object(E.jsx)(he.a,{textAlign:"center",children:"loading"===s&&Object(E.jsx)(g.a,{size:20,color:"primary"})}),"success"===s&&Object(E.jsxs)(he.a,{height:"90vh",sx:{overflowY:"scroll"},children:[Object(E.jsxs)(he.a,{position:"relative",children:[Object(E.jsx)("img",{width:"100%",src:c.backgroundImageUrl,alt:"background"}),Object(E.jsx)(he.a,{sx:{position:"absolute",top:120,left:15,background:"#eee",borderRadius:"50%"},children:Object(E.jsx)("img",{width:"150px",src:c.profileImageUrl,alt:"profile"})})]}),Object(E.jsxs)(he.a,{textAlign:"right",padding:"10px 20px",children:[Object(E.jsx)(K.a,{children:Object(E.jsx)(se.a,{})}),Object(E.jsx)(K.a,{children:Object(E.jsx)(ne.a,{})}),!function(){if(c.userId&&0!==d.length)return u===c.userId._id}()&&Object(E.jsx)(f.a,{onClick:x,size:"small",sx:{borderRadius:e.shape.borderRadius,textTransform:"capitalize",padding:"6px 20px",background:"black","&:hover":{background:"#333"}},variant:"contained",children:"Follow"})]}),Object(E.jsxs)(he.a,{padding:"10px 20px",children:[Object(E.jsx)(W.a,{variant:"h6",sx:{fontWeight:"500"},children:c.userId&&c.userId.name}),Object(E.jsxs)(W.a,{sx:{fontSize:"14px",color:"#555"},children:["@",c.userId&&c.userId.handle]}),Object(E.jsx)(W.a,{fontSize:"16px",color:"#333",padding:"10px 0",children:c.bio}),Object(E.jsxs)(he.a,{display:"flex",alignItems:"center",padding:"6px 0",flexWrap:"wrap",children:[Object(E.jsxs)(he.a,{display:"flex",children:[Object(E.jsx)(Ge.a,{htmlColor:"#555"}),Object(E.jsx)(W.a,{sx:{ml:"6px",color:"#555"},children:c.location})]}),Object(E.jsxs)(he.a,{display:"flex",marginLeft:"1rem",children:[Object(E.jsx)(He.a,{htmlColor:"#555"}),Object(E.jsx)(Me.a,{sx:{textDecoration:"none",marginLeft:"6px"},href:c.website||"https:/wasifbaliyan.com",children:c.website?c.website:"www"})]}),Object(E.jsxs)(he.a,{display:"flex",marginLeft:"1rem",children:[Object(E.jsx)(Xe.a,{htmlColor:"#555"}),Object(E.jsx)(W.a,{sx:{ml:"6px",color:"#555"},children:c.userId&&c.userId&&c.userId.createdAt&&Object(it.a)(new Date(c.userId.createdAt),"MMM dd yyyy")})]})]}),Object(E.jsxs)(he.a,{display:"flex",children:[Object(E.jsxs)(W.a,{color:"#555",marginRight:"1rem",children:[Object(E.jsx)("strong",{style:{color:"black"},children:"success"===o&&0!==d.length&&d.length+" "}),"Following"]}),Object(E.jsxs)(W.a,{color:"#555",marginRight:"1rem",children:[Object(E.jsx)("strong",{style:{color:"black"},children:"success"===l&&0!==j.length&&j[0].followerId.length+" "}),"Followers"]})]})]}),Object(E.jsx)(he.a,{borderBottom:"1px solid #ccc",children:Object(E.jsx)(W.a,{display:"inline-block",variant:"caption",fontSize:"16px",marginX:"1rem",padding:"6px 0",fontWeight:"500",borderBottom:"4px solid ".concat(e.palette.primary.main),children:"Posts"})}),c.posts&&c.posts.map((function(e){return Object(E.jsx)(st,{post:e,profile:!0},e._id)}))]})]})}var lt=n(143),jt=["path"];function dt(e){var t=e.path,n=Object(lt.a)(e,jt);return Object(m.c)((function(e){return e.auth})).isLoggedIn?Object(E.jsx)(v.b,Object(h.a)({path:t},n)):Object(E.jsx)(v.a,{to:"/login"})}function ut(){var e=Object(m.b)(),t=Object(pe.a)(),n=Object(a.useState)(""),r=Object(u.a)(n,2),c=r[0],s=r[1],i=function(){var t=Object(w.a)(S.a.mark((function t(){return S.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Se({text:c});case 2:t.sent&&(e(fe()),s(""));case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(E.jsx)(he.a,{padding:"1rem 1rem 0 1rem",borderBottom:"1px solid #ccc",children:Object(E.jsxs)(Z.a,{container:!0,children:[Object(E.jsx)(Z.a,{item:!0,sx:{paddingRight:"1rem"},children:Object(E.jsx)("img",{src:"/user.png",alt:"lgogo",width:"50px"})}),Object(E.jsxs)(Z.a,{item:!0,flexGrow:"1",children:[Object(E.jsx)(he.a,{padding:".5rem 0",children:Object(E.jsx)(ee.a,{value:c,onChange:function(e){return s(e.target.value)},multiline:!0,rows:"2",disableUnderline:!0,type:"text",placeholder:"What's happening?",sx:{width:"100%"}})}),Object(E.jsx)(he.a,{textAlign:"right",paddingBottom:".5rem",paddingTop:".5rem",borderTop:"1px solid #ccc",children:Object(E.jsx)(f.a,{onClick:i,disabled:0===c.length,variant:"contained",color:"primary",sx:{borderRadius:t.shape.borderRadius,fontSize:"12px"},children:"Post"})})]})]})})}function xt(){var e=Object(m.b)(),t=Object(m.c)((function(e){return e.post})),n=t.status,r=t.posts;return Object(a.useEffect)((function(){e(fe())}),[e]),Object(E.jsxs)(he.a,{children:[Object(E.jsx)(he.a,{borderBottom:"1px solid #ccc",padding:"8px 20px",children:Object(E.jsxs)(Z.a,{container:!0,justifyContent:"space-between",alignItems:"center",children:[Object(E.jsx)(Z.a,{item:!0,children:Object(E.jsx)(W.a,{variant:"h6",children:"Home"})}),Object(E.jsx)(Z.a,{item:!0})]})}),Object(E.jsxs)(he.a,{height:"92vh",sx:{overflowY:"scroll"},children:[Object(E.jsx)(ut,{}),Object(E.jsx)(he.a,{textAlign:"center",marginTop:"1rem",children:"loading"===n&&Object(E.jsx)(g.a,{size:20,color:"primary"})}),"success"===n&&r.map((function(e){return Object(E.jsx)(st,{post:e},e._id)}))]})]})}function bt(e){var t=e.item,n=(Object(m.b)(),Object(a.useState)("")),r=Object(u.a)(n,2),s=(r[0],r[1],c.a.useState(null)),i=Object(u.a)(s,2),o=i[0];i[1],Boolean(o),JSON.parse(localStorage.getItem("login"))._id;return Object(E.jsx)(E.Fragment,{children:Object(E.jsx)(T.b,{to:"/messages/".concat(t._id),style:{textDecoration:"none",color:"inherit"},children:Object(E.jsx)(he.a,{padding:"1rem",sx:{"&:hover":{backgroundColor:"#eee"}},children:Object(E.jsxs)(Z.a,{container:!0,children:[Object(E.jsx)(Z.a,{item:!0,sx:{paddingRight:"1rem"},children:Object(E.jsx)(T.b,{to:"/profile/".concat(t._id),children:Object(E.jsx)("img",{src:"/user.png",alt:"lgoog",width:"50px"})})}),Object(E.jsx)(Z.a,{item:!0,flexGrow:"1",children:Object(E.jsx)(he.a,{children:Object(E.jsxs)(Z.a,{container:!0,children:[Object(E.jsxs)(Z.a,{container:!0,flexWrap:"nowrap",justifyContent:"space-between",children:[Object(E.jsx)(Z.a,{item:!0,children:Object(E.jsxs)(he.a,{sx:{display:"flex",flexDirection:"row"},children:[Object(E.jsx)(W.a,{sx:{fontSize:"16px",fontWeight:500,mr:"6px"},children:t.name}),Object(E.jsxs)(W.a,{sx:{fontSize:"15px",mr:"6px",color:"#555"},children:["@",t.handle]})]})}),Object(E.jsx)(Z.a,{item:!0,children:Object(E.jsx)(he.a,{children:Object(E.jsx)(W.a,{sx:{fontSize:"15px",ml:"auto",color:"#555"},children:"6m"})})})]}),Object(E.jsx)(Z.a,{item:!0,children:Object(E.jsx)(he.a,{children:Object(E.jsx)(W.a,{sx:{fontSize:"15px",color:"#555"},children:"How are you"})})})]})})})]})})})})}function pt(){var e=Object(m.b)(),t=Object(m.c)((function(e){return e.follow})),n=t.followings,r=(t.followers,t.followingStatus),c=JSON.parse(localStorage.getItem("login"))._id;return Object(a.useEffect)((function(){e(Fe(c))}),[e]),Object(E.jsxs)(he.a,{children:[Object(E.jsx)(he.a,{borderBottom:"1px solid #ccc",padding:"8px 20px",children:Object(E.jsxs)(Z.a,{container:!0,justifyContent:"space-between",alignItems:"center",children:[Object(E.jsx)(Z.a,{item:!0,children:Object(E.jsx)(W.a,{variant:"h6",children:"Messages"})}),Object(E.jsx)(Z.a,{item:!0})]})}),Object(E.jsxs)(he.a,{height:"92vh",sx:{overflowY:"scroll"},children:[Object(E.jsx)(he.a,{textAlign:"center",children:"loading"===r&&Object(E.jsx)(g.a,{size:20,color:"primary"})}),"success"===r&&n.map((function(e){return Object(E.jsx)(bt,{item:e},e._id)}))]})]})}function ht(e){var t=new Date(Date.parse(e)),n=new Date;Ot.ie&&(t=Date.parse(e.replace(/( \+)/," UTC$1")));var r=Math.floor((n-t)/1e3);return r<=1?"just now":r<20?r+" seconds ago":r<40?"half a minute ago":r<60?"less than a minute ago":r<=90?"one minute ago":r<=3540?Math.round(r/60)+" minutes ago":r<=5400?"1 hour ago":r<=86400?Math.round(r/3600)+" hours ago":r<=129600?"1 day ago":r<604800?Math.round(r/86400)+" days ago":r<=777600?"1 week ago":"on "+t}var Ot={ie:navigator.userAgent.match(/MSIE\s([^;]*)/)};function ft(e){var t=e.comment;return Object(E.jsx)(he.a,{padding:"1rem",sx:{"&:hover":{backgroundColor:"#eee"}},children:Object(E.jsxs)(Z.a,{container:!0,flexWrap:"nowrap",children:[Object(E.jsx)(Z.a,{item:!0,sx:{paddingRight:"1rem"},children:Object(E.jsx)("img",{src:"/logo.png",alt:"lgoog",width:"50px"})}),Object(E.jsx)(Z.a,{item:!0,flexGrow:"1",children:Object(E.jsx)(he.a,{children:Object(E.jsxs)(Z.a,{container:!0,justifyContent:"space-between",alignItems:"center",flexWrap:"nowrap",children:[Object(E.jsxs)(Z.a,{item:!0,children:[Object(E.jsxs)(he.a,{display:"flex",children:[Object(E.jsx)(W.a,{sx:{fontSize:"16px",fontWeight:500,mr:"6px"},children:t.author.name}),Object(E.jsxs)(W.a,{sx:{fontSize:"15px",mr:"6px",color:"#555"},children:["@",t.author.handle]}),Object(E.jsx)(W.a,{sx:{fontSize:"15px",mr:"6px",color:"#555"},children:"."}),Object(E.jsx)(W.a,{sx:{fontSize:"15px",mr:"6px",color:"#555"},children:ht(t.createdAt)})]}),Object(E.jsx)(he.a,{children:Object(E.jsx)(W.a,{sx:{fontSize:"15px",color:"#555"},children:t.text})})]}),Object(E.jsx)(Z.a,{item:!0,children:Object(E.jsx)(K.a,{children:Object(E.jsx)(se.a,{})})})]})})})]})})}function gt(){var e=Object(a.useState)(""),t=Object(u.a)(e,2),n=t[0],r=t[1],s=Object(b.a)(),i=Object(v.h)().id,o=Object(v.g)(),l=Object(m.b)(),j=Object(m.c)((function(e){return e.post})),d=j.status,x=j.comments,p=j.commentStatus,h=j.postDetails,O=c.a.useState(null),y=Object(u.a)(O,2),k=y[0],I=y[1],C=Boolean(k),z=JSON.parse(localStorage.getItem("login"))._id,R=function(){var e=Object(w.a)(S.a.mark((function e(){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ce({id:h._id});case 2:e.sent&&o.push("/");case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),_=function(){var e=Object(w.a)(S.a.mark((function e(t){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,Ie({id:h._id});case 3:e.sent&&(l(ge(i)),l(me(i)));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){l(ge(i)),l(me(i))}),[l,i]);var L=function(){var e=Object(w.a)(S.a.mark((function e(){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ke({id:i,text:n});case 2:e.sent&&(l(me(i)),r(""));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(E.jsxs)(he.a,{children:[Object(E.jsx)(he.a,{borderBottom:"1px solid #ccc",padding:"8px 20px",children:Object(E.jsxs)(Z.a,{container:!0,alignItems:"center",children:[Object(E.jsx)(Z.a,{item:!0,sx:{mr:"10px"},children:Object(E.jsx)(K.a,{onClick:function(){return o.goBack()},children:Object(E.jsx)(Ue.a,{})})}),Object(E.jsx)(Z.a,{item:!0,children:Object(E.jsx)(W.a,{variant:"h6",children:"Post"})})]})}),Object(E.jsxs)(he.a,{height:"92vh",sx:{overflowY:"scroll"},children:[Object(E.jsx)(he.a,{textAlign:"center",marginTop:"1rem",children:"loading"===d&&Object(E.jsx)(g.a,{size:20,color:"primary"})}),"success"===d&&Object(E.jsxs)(he.a,{padding:"0 20px",children:[Object(E.jsx)(he.a,{children:Object(E.jsxs)(Z.a,{container:!0,alignItems:"center",children:[Object(E.jsx)(Z.a,{item:!0,children:Object(E.jsx)("img",{src:"/logo.png",alt:"lgogo",width:"60px"})}),Object(E.jsx)(Z.a,{item:!0,flexGrow:"1",children:Object(E.jsxs)(Z.a,{container:!0,justifyContent:"space-between",children:[Object(E.jsxs)(Z.a,{item:!0,children:[Object(E.jsx)(W.a,{sx:{fontSize:"16px",fontWeight:"500"},children:h.author&&h.author.name}),Object(E.jsxs)(W.a,{sx:{fontSize:"15px",color:"#555"},children:["@",h.author&&h.author.handle]})]}),Object(E.jsxs)(Z.a,{item:!0,children:["success"===d&&h.author&&z===h.author._id&&Object(E.jsx)(K.a,{"aria-expanded":C?"true":void 0,onClick:function(e){e.preventDefault(),I(e.currentTarget)},children:Object(E.jsx)(se.a,{})}),Object(E.jsx)(Q.a,{id:"basic-menu",anchorEl:k,open:C,onClose:function(){I(null)},MenuListProps:{"aria-labelledby":"basic-button"},children:Object(E.jsx)(V.a,{onClick:function(e){e.preventDefault(),R()},children:"Delete Post"})})]})]})})]})}),Object(E.jsx)(he.a,{children:Object(E.jsx)(W.a,{sx:{fontSize:"20px"},children:h.text})}),Object(E.jsxs)(he.a,{display:"flex",padding:"1rem 0",borderBottom:"1px solid #ccc",children:[Object(E.jsx)(W.a,{sx:{fontSize:"14px",mr:"6px",color:"#555"},children:h&&h.createdAt&&Object(it.a)(new Date(h.createdAt),"HH:mm a")}),Object(E.jsx)(W.a,{sx:{fontSize:"14px",mr:"6px",color:"#555"},children:"."}),Object(E.jsx)(W.a,{sx:{fontSize:"14px",mr:"6px",color:"#555"},children:h&&h.createdAt&&Object(it.a)(new Date(h.createdAt),"MMM dd yyyy")})]}),Object(E.jsx)(he.a,{display:"flex",padding:"1rem 0",borderBottom:"1px solid #ccc",children:Object(E.jsxs)(W.a,{sx:{fontSize:"14px",mr:"6px",color:"#555"},children:[Object(E.jsx)("strong",{children:h.likes&&h.likes.length})," ","Likes"]})}),Object(E.jsxs)(he.a,{display:"flex",justifyContent:"space-around",padding:".5rem 0",borderBottom:"1px solid #ccc",children:[Object(E.jsx)(K.a,{size:"small",children:Object(E.jsx)(Qe.a,{fontSize:"small"})}),Object(E.jsx)(K.a,{size:"small",children:Object(E.jsx)(Ze.a,{fontSize:"small"})}),Object(E.jsx)(K.a,{onClick:_,size:"small",children:h.isLiked?Object(E.jsx)(rt.a,{fontSize:"small"}):Object(E.jsx)(tt.a,{fontSize:"small"})}),Object(E.jsx)(K.a,{size:"small",children:Object(E.jsx)(ct.a,{fontSize:"small"})})]}),Object(E.jsxs)(he.a,{children:[Object(E.jsxs)(Z.a,{container:!0,children:[Object(E.jsx)(Z.a,{item:!0,children:Object(E.jsx)("img",{src:"/logo.png",alt:"logo",width:"60px"})}),Object(E.jsxs)(Z.a,{item:!0,flexGrow:"1",children:[Object(E.jsx)(he.a,{padding:".5rem 0",children:Object(E.jsx)(ee.a,{onChange:function(e){return r(e.target.value)},value:n,multiline:!0,rows:"2",disableUnderline:!0,type:"text",placeholder:"Post your comment",sx:{width:"100%"}})}),Object(E.jsx)(he.a,{textAlign:"right",paddingBottom:".5rem",children:Object(E.jsx)(f.a,{disabled:0===n.length,onClick:L,variant:"contained",color:"primary",size:"small",sx:{borderRadius:s.shape.borderRadius,fontSize:"12px"},children:"Comment"})})]})]}),Object(E.jsx)(he.a,{textAlign:"center",marginTop:"1rem",children:"loading"===p&&Object(E.jsx)(g.a,{size:20,color:"primary"})}),"success"===p&&x.map((function(e){return Object(E.jsx)(ft,{comment:e},e._id)}))]})]})]})]})}function mt(){var e=Object(a.useState)(""),t=Object(u.a)(e,2),n=(t[0],t[1],Object(b.a)(),Object(v.h)().id),r=Object(v.g)(),c=Object(m.b)(),s=Object(m.c)((function(e){return e.post}));s.status,s.comments,s.commentStatus,s.postDetails,JSON.parse(localStorage.getItem("login"))._id;return Object(a.useEffect)((function(){c(ge(n)),c(me(n))}),[c,n]),Object(E.jsx)(he.a,{children:Object(E.jsx)(he.a,{borderBottom:"1px solid #ccc",padding:"8px 20px",children:Object(E.jsxs)(Z.a,{container:!0,alignItems:"center",children:[Object(E.jsx)(Z.a,{item:!0,sx:{mr:"10px"},children:Object(E.jsx)(K.a,{onClick:function(){return r.goBack()},children:Object(E.jsx)(Ue.a,{})})}),Object(E.jsx)(Z.a,{item:!0,children:Object(E.jsx)(W.a,{variant:"h6",children:"Message"})})]})})})}var vt=function(){var e=Object(m.b)(),t=Object(m.c)((function(e){return e.auth})).isLoggedIn;return Object(a.useEffect)((function(){if("login"in localStorage){var e=JSON.parse(localStorage.getItem("login"));l.a.defaults.headers.common.authorization="Bearer ".concat(e.token)}}),[t]),Object(a.useEffect)((function(){var t=(JSON.parse(localStorage.getItem("login"))||{}).isLoggedIn;t&&e(A({isLoggedIn:t}))}),[e,t]),Object(E.jsxs)(v.d,{children:[Object(E.jsx)(dt,{exact:!0,path:"/profile/:id",children:Object(E.jsx)(We,{children:Object(E.jsx)(ot,{})})}),Object(E.jsx)(dt,{exact:!0,path:"/posts/:id",children:Object(E.jsx)(We,{children:Object(E.jsx)(gt,{})})}),Object(E.jsx)(dt,{exact:!0,path:"/home",children:Object(E.jsx)(We,{children:Object(E.jsx)(xt,{})})}),Object(E.jsx)(dt,{exact:!0,path:"/messages",children:Object(E.jsx)(We,{children:Object(E.jsx)(pt,{})})}),Object(E.jsx)(dt,{exact:!0,path:"/messages/:id",children:Object(E.jsx)(We,{children:Object(E.jsx)(mt,{})})}),Object(E.jsx)(v.b,{exact:!0,path:"/",children:Object(E.jsx)(M,{})}),Object(E.jsx)(v.b,{exact:!0,path:"/login",children:Object(E.jsx)(M,{})}),Object(E.jsx)(v.b,{exact:!0,path:"/register",children:Object(E.jsx)(J,{})})]})},wt=Object(k.a)({reducer:{auth:L,post:we,follow:Be}}),yt=Object(j.a)({});l.a.defaults.baseURL="https://smappp.herokuapp.com/",i.a.render(Object(E.jsx)(c.a.StrictMode,{children:Object(E.jsx)(m.a,{store:wt,children:Object(E.jsx)(T.a,{children:Object(E.jsx)(d.a,{theme:yt,children:Object(E.jsx)(vt,{})})})})}),document.getElementById("root"))}},[[195,1,2]]]);
//# sourceMappingURL=main.b7a2704a.chunk.js.map